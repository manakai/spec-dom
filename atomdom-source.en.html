<!DOCTYPE html>
<html lang="en" class="formal-specification anolis">
<head>
<title>Atom DOM</title>
<link rel="stylesheet" href="http://suika.suikawiki.org/www/style/html/spec">
<link rel="license" href="#license">
</head>
<body class="has-abstract">

<header>

<hgroup>
  <h1 class="no-toc no-num">Atom DOM</h1>
  <h2 class="no-toc no-num">Manakai Project Living Standard [DATE]</h2>
</hgroup>

<dl class="versions-uri">
<dt>Latest Version</dt>
  <dd><code class="URI">&lt;<a href="http://suika.suikawiki.org/www/markup/xml/atomdom"
      >http://suika.suikawiki.org/www/markup/xml/atomdom</a>&gt;</code></dd>
<dt id=version-history>Version History</dt>
  <dd><code class=URI>&lt;<a href="http://suika.suikawiki.org/gate/git/wi/markup/xmlexts.git/history/HEAD:/atomdom-source.en.html">http://suika.suikawiki.org/gate/git/wi/markup/xmlexts.git/history/HEAD:/atomdom-source.en.html</a>&gt;</code></dd>
<dt id=author>Author</dt>
  <dd><a href="http://suika.suikawiki.org/~wakaba/who?" rel="author"
      lang=ja>Wakaba</a>
  <code class="mail">&lt;<a href="mailto:wakaba@suikawiki.org" rel="author"
      >wakaba@suikawiki.org</a>&gt;</code></dd>
</dl>

<p class="copyright" lang="en" id=license><a
href=http://creativecommons.org/publicdomain/zero/1.0/
rel=license><img alt=CC0
src=http://i.creativecommons.org/p/zero/1.0/80x15.png></a> To the
extent possible under law, the editor has waived all copyright and
related or neighboring rights to this work.  In addition, as of
[DATE], the editor has made this specification available under the <a
href="http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0">Open
Web Foundation Agreement Version 1.0</a>.

</header>

<section id=status>
<h2 class="no-toc no-num">Status of This Document</h2>

<p class=section-info><em>This section describes the status of this
document at the time of its publication.  Other documents might
supersede this document.</em></p>

<p>This document is a technical specification produced as part of the
<a href="https://github.com/manakai">manakai</a> project.  It might be
updated, replaced, or obsoleted by other documents at any time.

<p>The scope of this specification is explicitly limited within the
manakai project.  It does not intended to be supported by multiple
parties, although nothing prevents it from implemented by other DOM
implementations.

<p>Comments on this document are welcome and may be sent to the <a
href="#author">author</a>.</p>

<p>Translations of thie document might be available.  The English
version of the document is the only normative version.</p>
</section>

<section>
<h2 class="no-toc no-num">Table of contents</h2>
<!-- toc -->
</section>

<section>
<h2>Introduction</h2>

<p>The <dfn>Atom DOM</dfn> is a language and platform independent
programming language interface to Atom documents built on top of
language-neutral DOM APIs <cite class="bibref normative">[<a
href="#ref-DOM">DOM</a>]</cite>.  It defines a number of interfaces
that provide convenience methods and attributes to process Atom
documents <cite class="bibref normative">[<a
href="#ref-ATOM">ATOM</a>]</cite>.

<section>
<h3>History</h3>

<p class=ed>XXX

<p>The <span>Atom DOM</span> was <a
href="http://suika.suikawiki.org/gate/cvs/messaging/manakai/lib/Message/Markup/Atom.dis">initially
specified</a> as the inline documentation for the manakai's Atom DOM
implementation.

<p>Then <a
href="http://suika.suikawiki.org/~wakaba/wiki/sw/n/Atom%20DOM">additions
to the specification</a> was edited in SuikaWiki.

<p>These documents are replaced by <a href="#version-history">this
specification</a>.

</section>

<section>
<h3>Future plans</h3>

<p>Future revision of this specification might include support for
following technologies:

  <ul>

  <li>Atom 0.3

  <li>hAtom

  <li>AtomPub

  <li>Deleted entry documents

  </ul>

</section>

</section>

<section>
<h2>Definitions</h2>

<section>
<h3>Conformance</h3>

<p>The keywords "<em class=rfc2119>MUST</em>" and "<em
class=rfc2119>MAY</em>" in the normative parts of this document are to
be interpreted as described in <a
href="http://tools.ietf.org/html/rfc2119">RFC 2119</a> <cite
class="bibref normative">[<a href="#ref-RFC2119">RFC2119</a>]</cite>.

<p>Requirements phrased in the imperative as part of algorithms (such
as "strip any leading space characters" or "return false and abort
these steps") are to be interpreted with the meaning of the key word
("<em class=rfc2119>MUST</em>", "<em class=rfc2119>MAY</em>", etc)
used in introducing the algorithm.

<p>Conformance requirements phrased as algorithms or specific steps
<em class=rfc2119>MAY</em> be implemented in any manner, so long as
the end result is equivalent. (In particular, the algorithms defined
in this specification are intended to be easy to follow, and not
intended to be performant.)

<p>User agents <em class=rfc2119>MAY</em> impose
implementation-specific limits on otherwise unconstrained inputs,
e.g. to prevent denial of service attacks, to guard against running
out of memory, or to work around platform-specific limitations.
</section>

<section>
<h3>Terms</h3>

<p>The terms <dfn>context object</dfn>, <dfn
title=concept-tree-parent>parent</dfn>, <dfn
title=concept-tree-child>child</dfn>, <dfn
title=concept-tree-order>tree order</dfn>, <dfn
title=concept-node-append>append</dfn>, <dfn
title=concept-node-document>node document</dfn>, <dfn
title=dom-Node-textContent><code>textContent</code></dfn>,
<dfn><code>Document</code></dfn>, <dfn
title=concept-document>document</dfn>, <dfn
title=concept-document-content-type>content type</dfn>, <dfn>document
element</dfn>, <dfn><code>Element</code></dfn>, <dfn
title=concept-element>element</dfn>, <dfn
title=concept-element-local-name>local name</dfn>, <dfn
title=concept-element-namespace>namespace</dfn>, <dfn
title=concept-element-interface>element interface</dfn>, <dfn
title=dom-Element-id><code>id</code></dfn>, <dfn
title=concept-attribute>attribute</dfn>, <dfn>content attribute</dfn>,
<dfn title=concept-attribute-value>value</dfn>, <dfn
title=concept-element-attributes-set>set an attribute</dfn>,
<dfn><code>Text</code></dfn>, <dfn title=concept-cd-data>data</dfn>,
<dfn title=concept-collection>collection</dfn>,
<dfn><code>HTMLCollection</code></dfn>, <dfn
title=concept-collection-live>live</dfn>, <dfn
title=concept-collection-static>static</dfn>, <dfn>XML
namespace</dfn>, <dfn>HTML namespace</dfn>,
<dfn><code>DOMImplementation</code></dfn>, and <dfn
title=dom-DOMImplementation-createDocument><code>createDocument</code></dfn>
are defined by the DOM Standard <cite class="bibref normative">[<a
href="#ref-DOM">DOM</a>]</cite>.

<p>The term <dfn>URL</dfn> is defined by the URL Standard <cite
class="bibref normative">[<a href="#ref-URL">URL</a>]</cite>.

<p>The terms <dfn>IDL attribute</dfn>, <dfn>reflect</dfn>,
<dfn>resolve a URL</dfn>, <dfn>parse a global date and time
string</dfn>, and <dfn>valid normalized forced-UTC global date and
time string</dfn> are defined by the HTML Standard <cite class="bibref
normative">[<a href="#ref-HTML">HTML</a>]</cite>.

<p>The <dfn>Atom namespace</dfn> is
<code>http://www.w3.org/2005/Atom</code> <cite class="bibref
normative">[<a href="#ref-ATOM">ATOM</a>]</cite>.

<p>The <dfn>Atom Threading namespace</dfn> is
<code>http://purl.org/syndication/thread/1.0</code> <cite
class="bibref normative">[<a
href="#ref-ATOMTHREADING">ATOMTHREADING</a>]</cite>.

<p>The <dfn><code>SVGElement</code></dfn> interface is defined in the
SVG specification <cite class="bibref normative">[<a
href="#ref-SVG">SVG</a>]</cite>.

<p>The <dfn><a
href="http://suika.suikawiki.org/~wakaba/wiki/sw/n/manakai%20DOM%20Extensions#anchor-97"><code>manakai-create-child-element</code></a></dfn>
<span>configuration parameter</span> is defined in the manakai DOM
Extensions specification <cite class="bibref normative">[<a
href="#ref-MANAKAI">MANAKAI</a>]</cite>.

<p>The IDL fragments in this specification <em class=rfc2119>MUST</em>
be interpreted as described in the WebIDL specification <cite
class="bibref normative">[<a href="#ref-WEBIDL">WEBIDL</a>]</cite>.

</section>

<section>
<h3>DOM operations</h3>

<p>To <dfn>set the <code>xml:lang</code> attribute</dfn> of an <span
title=concept-element>element</span> <var title>element</var> to value
<var>value</var>, the <span title=concept-element-attributes-set>set
an attribute</span> steps <em class=rfc2119>MUST</em> be invoked using
<var title>element</var>, <var title>value</var>, <var title>local
name</var> <code>lang</code>, <var title>prefix</var>
<code>xml</code>, and <var title>namespace</var> the <span>XML
namespace</span>.

<p>To <dfn title=concept-append-atom-element>append an Atom
element</dfn> <var title>local name</var> with <var title>text
content</var> to <var title>parent</var>, the following steps <em
class=rfc2119>MUST</em> be run:

<ol class=algorithm>

<li>Let <var title>element</var> be an <span
title=concept-element>element</span> whose <span
title=concept-element-local-name>local name</span> is <var title>local
name</var> and <span title=concept-element-namespace>namespace</span>
is the <span>Atom namespace</span>.

<li>If <var title>text content</var> is not the empty string, <span
title=concept-node-append>append</span> a <code>Text</code> node whose
<span title=concept-cd-data>data</span> is <var title>text
content</var>.

<li><span title=concept-node-append>Append</span> <var
title>element</var> to <var title>parent</var>.

</ol>

<p>To <dfn>obtain the child element</dfn> of <var title>element</var>
with <var title>local name</var> and optionally <var
title>namespace</var>, the following steps <em class=rfc2119>MUST</em>
be run:

<ol class=algorithm>

<li>Let <var title>namespace</var> be the <span>Atom namespace</span>
if it is not explicitly given.

<li>If <var title>element</var> has a <span
title=concept-tree-child>child</span> <span
title=concept-element>element</span> whose <span
title=concept-element-local-name>local name</span> is <var title>local
name</var> and <var title=concept-element-namespace>namespace</var>,
return the first such <span title=concept-element>element</span> in
<span title=concept-tree-order>tree order</span> and abort these
steps.

<li>Otherwise, if the <code>manakai-create-child-element</code>
<span>configuration parameter</span> of the <span
title=concept-node-document>node document</span> of <var
title>element</var> is set to true:

  <ol class=algorithm>

  <li>Let <var title>child</var> be an <span
  title=concept-element>element</span> whose <span
  title=concept-local-name>local name</span> is <var title>local
  name</var> and <span title=concept-namespace>namespace</span> is
  <var title>namespace</var>.

  <li><span title=concept-tree-append>Append</span> <var
  title>child</var> to <var title>element</var>.

  <li>Return <var title>child</var> and abort these steps.

  </ol>

<li>Otherwise, return <code>null</code>.

</ol>

<p class=ed>XXX Attributes which <span>obtain the child element</span>
should be defined as methods?  No other IDL attribute in the platform
mutates underlying DOM...

<p>The <dfn>child element list</dfn> of type <var title>local
name</var> for <span title=concept-element>element</span> <var
title>element</var> with optional <var title>namespace</var> is an
<code>HTMLCollection</code> rooted at the <var title>element</var>,
whose filter matches only <span title=concept-tree-child>child</span>
<span title=concept-element>elements</span> of <var
title>element</var> with <span title=concept-element-local-name>local
name</span> <var title>local name</var> and <span
title=concept-element-namespace>namespace</span> <var
title>namespace</var>, if specified, or the <span>Atom
namespace</span>.

  <div class="note memo">

    <p>As specified in the DOM Standard, <code>HTMLCollection</code>
    objects are <span title=concept-collection-live>live</span> by
    default.  Attributes returning <code>HTMLCollection</code> always
    return the same object.

  </div>

<hr>

<p>If an attribute <dfn title="reflect the string value of a child
element">reflects the string value of the child element <var
title>local name</var></dfn>, optionally with <var
title>namespace</var>, on getting, the attribute <em
class=rfc2119>MUST</em> run the following steps:

<ol class=algorithm>

<li>Let <var title>namespace</var> be the <span>Atom namespace</span>
if it is not explicitly given.

<li>If <var title>element</var> has a <span
title=concept-tree-child>child</span> <span
title=concept-element>element</span> whose <span
title=concept-element-local-name>local name</span> is <var title>local
name</var> and <var title=concept-element-namespace>namespace</var>,
return the <code title=dom-Node-textContent>textContent</code>
attribute value of the first such <span
title=concept-element>element</span> in <span
title=concept-tree-order>tree order</span>.

<li>Otherwise, return the empty string.

</ol>

<p>If an attribute <dfn title="reflect the URL value of a child
element">reflects the URL value of the child element <var title>local
name</var></dfn>, optionally with <var title>namespace</var>, on
getting, the attribute <em class=rfc2119>MUST</em> run the following
steps:

<ol class=algorithm>

<li>Let <var title>namespace</var> be the <span>Atom namespace</span>
if it is not explicitly given.

<li>If <var title>element</var> has a <span
title=concept-tree-child>child</span> <span
title=concept-element>element</span> whose <span
title=concept-element-local-name>local name</span> is <var title>local
name</var> and <var title=concept-element-namespace>namespace</var>:

  <ol class=algorithm>

  <li>Let <var title>child</var> be the first such <span
  title=concept-element>element</span> in <span
  title=concept-tree-order>tree order</span>.

  <li><span title="resolve a URL">Resolve</span> the <code
  title=dom-Node-textContent>textContent</code> attribute value of
  <var title>child</var>, relative to <var title>child</var>.  If it
  results in an error, return the empty string.  Otherwise, return the
  result.

  </ol>

<li>Otherwise, return the empty string.

</ol>

<p>If an attribute reflects the <span title="reflect the string value
of a child element">string</span> or <span title="reflect the URL
value of a child element">URL</span> value of the child element, on
setting, the attribute <em class=rfc2119>MUST</em> run the following
steps:

<ol class=algorithm>

<li>Let <var title>namespace</var> be the <span>Atom namespace</span>
if it is not explicitly given.

<li>If <var title>element</var> has a <span
title=concept-tree-child>child</span> <span
title=concept-element>element</span> whose <span
title=concept-element-local-name>local name</span> is <var title>local
name</var> and <var title=concept-element-namespace>namespace</var>,
act as if the <code title=dom-Node-textContent>textContent</code>
attribute of the first such <span title=concept-element>element</span>
in <span title=concept-tree-order>tree order</span> is set to the
given value and abort these steps.

<li>Let <var title>child</var> be an <span
title=concept-element>element</span> whose <span
title=concept-local-name>local name</span> is <var title>local
name</var> and <span title=concept-namespace>namespace</span> is <var
title>namespace</var>.

<li>If the given value is not the empty string, <span
title=concept-node-append>append</span> a <code>Text</code> whose
<span title=concept-cd-data>data</span> is the given value to <var
title>child</var>.

<li><span title=concept-tree-append>Append</span> <var
title>child</var> to the <span>context object</span>.

</ol>

</section>

</section>

<section>
<h2>Document constructors</h2>

<p>Document constructor methods are added to the
<code>DOMImplementation</code> object as follows:

<pre class=idl id=AtomImplementation><code>partial interface <span>DOMImplementation</span> {
  <span>Document</span> <span title=dom-DOMImplementation-createAtomFeedDocument>createAtomFeedDocument</span>(<span>DOMString</span> id, [TreatNullAs=EmptyString] <span>DOMString</span> title, [TreatNullAs=EmptyString] <span>DOMString</span> lang);
  <span>Document</span> <span title=dom-DOMImplementation-createAtomEntryDocument>createAtomEntryDocument</span>(<span>DOMString</span> id, [TreatNullAs=EmptyString] <span>DOMString</span> title, [TreatNullAs=EmptyString] <span>DOMString</span> lang);
};</code></pre>

<p>The <dfn
title=dom-DOMImplementation-createAtomFeedDocument><code>createAtomFeedDocument(<var
title>id</var>, <var title>title</var>, <var
title>lang</var>)</code></dfn> method <em class=rfc2119>MUST</em> run
the following steps:

<ol class=algorithm>

<li>Let <var title>document</var> be a <span
title=concept-document>document</span> that would be returned by the
invocation of the <code
title=dom-DOMImplementation-createDocument>createDocument</code>
method on the <span>context object</span>.

<li>Set the <span title=concept-document-content-type>content
type</span> of <var title>document</var> to
<code>application/atom+xml</code>.

<li>Let <var title>feed</var> be a <code>feed</code> <span
class=concept-element>element</span> in the <span>Atom
namespace</span>.

<li><span>Set the <code>xml:lang</code> attribute</span> of <var
title>feed</var> to <var title>lang</var>.

<li><span title=concept-append-atom-element>Append an Atom
<code>id</code> element</span> whose <var title>text content</var> is
<var title>id</var> to <var title>feed</var>.

<li><span title=concept-append-atom-element>Append an Atom
<code>title</code> element</span> whose <var title>text content</var>
is <var title>title</var> to <var title>feed</var>.

<li><span title=concept-append-atom-element>Append an Atom
<code>updated</code> element</span> whose <var title>text
content</var> is <span>valid normalized forced-UTC global date and
time string</span> of the current time to <var title>feed</var>.

<li><span title=concept-node-append>Append</span> <var
title>feed</var> to <var title>document</var>.

<li>Return <var title>document</var>.

</ol>

<p>The <dfn
title=dom-DOMImplementation-createAtomEntryDocument><code>createAtomEntryDocument(<var
title>id</var>, <var title>title</var>, <var
title>lang</var>)</code></dfn> method <em class=rfc2119>MUST</em> run
the following steps:

<ol class=algorithm>

<li>Let <var title>document</var> be a <span
title=concept-document>document</span> that would be returned by the
invocation of the <code
title=dom-DOMImplementation-createDocument>createDocument</code>
method on the <span>context object</span>.

<li>Set the <span title=concept-document-content-type>content
type</span> of <var title>document</var> to
<code>application/atom+xml</code>.

<li>Let <var title>entry</var> be a <code>entry</code> <span
class=concept-element>element</span> in the <span>Atom
namespace</span>.

<li><span>Set the <code>xml:lang</code> attribute</span> of <var
title>entry</var> to <var title>lang</var>.

<li><span title=concept-append-atom-element>Append an Atom
<code>id</code> element</span> whose <var title>text content</var> is
<var title>id</var> to <var title>entry</var>.

<li><span title=concept-append-atom-element>Append an Atom
<code>title</code> element</span> whose <var title>text content</var>
is <var title>title</var> to <var title>entry</var>.

<li><span title=concept-append-atom-element>Append an Atom
<code>updated</code> element</span> whose <var title>text
content</var> is <span>valid normalized forced-UTC global date and
time string</span> of the current time to <var title>entry</var>.

<li><span title=concept-node-append>Append</span> <var
title>entry</var> to <var title>document</var>.

<li>Return <var title>document</var>.

</ol>

</section>

<section>
<h2>Atom documents</h2>

<pre class=idl id=AtomDocument><code>partial interface <span>Document</span> {
  readonly attribute <span>AtomFeedElement</span>? <span title=dom-Document-atomFeedElement>atomFeedElement</span>;
};</code></pre>

<p>The <dfn
title=dom-Document-atomFeedElement><code>atomFeedElement</code></dfn>
attribute of the <code>Document</code> interface <em
class=rfc2119>MUST</em> run the following steps:

  <ol class=algorithm>

  <li>If the <span title=concept-document>document</span> has no
  <span>document element</span>, return <code>null</code> and abort
  these steps.

  <li>If the <span>document element</span> is the <code>feed</code>
  <span title=concept-element>element</span> in the <span>Atom
  namespace</span>, return the <span
  title=concept-element>element</span>.

  <li>Return <code>null</code>.

  </ol>

</section>

<section>
<h2>Interfaces for Atom core elements</h2>

<section>
<h3>The <code>AtomElement</code> interface</h3>

<p>The <span title=concept-element-interface>element interface</span>
for <span title=concept-element>elements</span> in the <span>Atom
namespace</span> or the <span>Atom Threading namespace</span> is
<code>AtomElement</code>, unless stated otherwise.

<pre class=idl><code>interface <dfn>AtomElement</dfn> : <span>Element</span> {
  attribute DOMString <span title=dom-AtomElement-xmlbase>xmlbase</span>;
  attribute DOMString <span title=dom-AtomElement-xmllang>xmllang</span>;
};</code></pre>

<p>The <dfn title=dom-AtomElement-xmlbase><code>xmlbase</code></dfn>
attribute of the <code>AtomElement</code> interface <em
class=rfc2119>MUST</em> behave in the same way as the <a
href="https://svgwg.org/svg2-draft/single-page.html#types-__svg__SVGElement__xmlbase"><code>xmlbase</code></a>
attribute of the <code>SVGElement</code> interface.

<p>The <dfn title=dom-AtomElement-xmllang><code>xmllang</code></dfn>
attribute of the <code>AtomElement</code> interface <em
class=rfc2119>MUST</em> behave in the same way as the <a
href="https://svgwg.org/svg2-draft/single-page.html#types-__svg__SVGElement__xmllang"><code>xmllang</code></a>
attribute of the <code>SVGElement</code> interface.

<hr>

<p>The <span title=concept-element-interface>element interface</span>
for the <code>id</code> <span title=concept-element>element</span> in
the <span>Atom namespace</span> is <code>AtomIdElement</code>.

<p>The <span title=concept-element-interface>element interface</span>
for the <code>icon</code> <span title=concept-element>element</span>
in the <span>Atom namespace</span> is <code>AtomIconElement</code>.

<p>The <span title=concept-element-interface>element interface</span>
for the <code>name</code> <span title=concept-element>element</span>
in the <span>Atom namespace</span> is <code>AtomNameElement</code>.

<p>The <span title=concept-element-interface>element interface</span>
for the <code>uri</code> <span title=concept-element>element</span> in
the <span>Atom namespace</span> is <code>AtomUriElement</code>.

<p>The <span title=concept-element-interface>element interface</span>
for the <code>email</code> <span title=concept-element>element</span>
in the <span>Atom namespace</span> is <code>AtomEmailElement</code>.

<p>The <span title=concept-element-interface>element interface</span>
for the <code>logo</code> <span title=concept-element>element</span>
in the <span>Atom namespace</span> is <code>AtomLogoElement</code>.

<pre class=idl><code>interface <dfn>AtomIdElement</dfn> : <span>AtomElement</span> {};
interface <dfn>AtomIconElement</dfn> : <span>AtomElement</span> {};
interface <dfn>AtomNameElement</dfn> : <span>AtomElement</span> {};
interface <dfn>AtomUriElement</dfn> : <span>AtomElement</span> {};
interface <dfn>AtomEmailElement</dfn> : <span>AtomElement</span> {};
interface <dfn>AtomLogoElement</dfn> : <span>AtomElement</span> {};</code></pre>

</section>

<section>
<h3>The <code>AtomTextConstruct</code> interface</h3>

<pre class=idl><code>[NoInterfaceObject]
interface <dfn>AtomTextConstruct</dfn> : <span>AtomElement</span> {
  attribute <span>DOMString</span> <span title=dom-AtomTextConstruct-type>type</span>;
  readonly attribute <span>Element</span>? <span title=dom-AtomTextConstruct-container>container</span>;
};</code></pre>

<p>The <dfn title=dom-AtomTextConstruct-type><code>type</code></dfn>
attribute of the <code>AtomTextConstruct</code> <em
class=rfc2119>MUST</em> <span>reflect</span> the <span>content
attribute</span> of the same name.  The default value for the
attribute is <code>text</code>.

<p>The <dfn
title=dom-AtomTextConstruct-container><code>container</code></dfn>
attribute <em class=rfc2119>MUST</em> run the following steps:

<ol class=algorithm>

<li>If the <span title=concept-attribute-value>value</span> of the
<code>type</code> <span title=concept-attribute>content
attribute</span> of the <span>context object</span>, if any, is
<code>xhtml</code>, return <span title="obtain the child element">the
<code>div</code> child element</span> of <var title>element</var>, in
the <span>HTML namespace</span>.

<li>Otherwise, return the <span>context object</span>.

</ol>

<hr>

<p>The <span title=concept-element-interface>element interface</span>
for the <code>rights</code> <span title=concept-element>element</span>
in the <span>Atom namespace</span> is <code>AtomRightsElement</code>.

<p>The <span title=concept-element-interface>element interface</span>
for the <code>subtitle</code> <span
title=concept-element>element</span> in the <span>Atom
namespace</span> is <code>AtomSubtitleElement</code>.

<p>The <span title=concept-element-interface>element interface</span>
for the <code>summary</code> <span
title=concept-element>element</span> in the <span>Atom
namespace</span> is <code>AtomSummaryElement</code>.

<p>The <span title=concept-element-interface>element interface</span>
for the <code>title</code> <span title=concept-element>element</span>
in the <span>Atom namespace</span> is <code>AtomTitleElement</code>.

<pre class=idl><code>interface <dfn>AtomRightsElement</dfn> : <span>AtomTextConstruct</span> {};
interface <dfn>AtomSubtitleElement</dfn> : <span>AtomTextConstruct</span> {};
interface <dfn>AtomSummaryElement</dfn> : <span>AtomTextConstruct</span> {};
interface <dfn>AtomTitleElement</dfn> : <span>AtomTextConstruct</span> {};</code></pre>

</section>

<section>
<h3>The <code>AtomPersonConstruct</code> interface</h3>

<pre class=idl><code>[NoInterfaceObject]
interface <dfn>AtomPersonConstruct</dfn> : <span>AtomElement</span> {
  attribute <span>DOMString</span> <span title=dom-AtomPersonConstruct-name>name</span>;
  readonly attribute <span>AtomNameElement</span>? <span title=dom-AtomPersonConstruct-nameElement>nameElement</span>;
  attribute <span>DOMString</span> <span title=dom-AtomPersonConstruct-uri>uri</span>;
  attribute <span>DOMString</span> <span title=dom-AtomPersonConstruct-email>email</span>;
};</code></pre>

<p>The <dfn title=dom-AtomPersonConstruct-name><code>name</code></dfn>
attribute <em class=rfc2119>MUST</em> <span title="reflect the string
value of a child element">reflect the string value of the
<code>name</code> child element</span>.

<p>The <dfn
title=dom-AtomPersonConstruct-nameElement><code>nameElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>name</code> child element</span>.

<p>The <dfn title=dom-AtomPersonConstruct-uri><code>uri</code></dfn>
attribute <em class=rfc2119>MUST</em> <span title="reflect the URL
value of a child element">reflect the URL value of the
<code>uri</code> child element</span>.

<p>The <dfn
title=dom-AtomPersonConstruct-email><code>email</code></dfn> attribute
<em class=rfc2119>MUST</em> <span title="reflect the string value of a
child element">reflect the string value of the <code>name</code> child
element</span>.

<hr>

<p>The <span title=concept-element-interface>element interface</span>
for the <code>author</code> <span title=concept-element>element</span>
in the <span>Atom namespace</span> is <code>AtomAuthorElement</code>.

<p>The <span title=concept-element-interface>element interface</span>
for the <code>contributor</code> <span
title=concept-element>element</span> in the <span>Atom
namespace</span> is <code>AtomContributorElement</code>.

<pre class=idl><code>interface <dfn>AtomAuthorElement</dfn> : <span>AtomPersonConstruct</span> {};
interface <dfn>AtomContributorElement</dfn> : <span>AtomPersonConstruct</span> {};</code></pre>

</section>

<section>
<h3>The <code>AtomDateConstruct</code> interface</h3>

<pre class=idl><code>[NoInterfaceObject]
interface <dfn>AtomDateConstruct</dfn> : <span>AtomElement</span> {
  attribute <span>DOMTimeStamp</span> <span title=dom-AtomDateConstruct-value>value</span>;
};</code></pre>

<p>On getting, the <dfn
title=dom-AtomDateConstruct-value><code>value</code></dfn> attribute
of the <code>AtomDateConstruct</code> interface <em
class=rfc2119>MUST</em> <span title="parse a global date and time
string">parse</span> the <code
title=dom-Node-textContent>textContent</code> of the <span>context
object</span> and return the result (or zero if failed).  <span
class=ed>Implementations are required to implement more tolerant
datetime parsing algorithm for compatibility with Atom documents in
the wild...</span>

<p>On setting, the <code
title=dom-AtomDateConstruct-value>value</code> attribute of the
<code>AtomDateConstruct</code> interface <em class=rfc2119>MUST</em>
act as if the <code title=dom-Node-textContent>textContent</code>
attribute is set to the <span>valid normalized forced-UTC global date
and time string</span> representation of the given value.

<hr>

<p>The <span title=concept-element-interface>element interface</span>
for the <code>published</code> <span
title=concept-element>element</span> in the <span>Atom
namespace</span> is <code>AtomPublishedElement</code>.

<p>The <span title=concept-element-interface>element interface</span>
for the <code>updated</code> <span
title=concept-element>element</span> in the <span>Atom
namespace</span> is <code>AtomUpdatedElement</code>.

<pre class=idl><code>interface <dfn>AtomPublishedElement</dfn> : <span>AtomDateConstruct</span> {};
interface <dfn>AtomUpdatedElement</dfn> : <span>AtomDateConstruct</span> {};</code></pre>

</section>

<section>
<h3>The <code>AtomFeedElement</code> interface</h3>

<p>The <span title=concept-element-interface>element interface</span>
for the <code>feed</code> <span title=concept-element>element</span>
in the <span>Atom namespace</span> is <code>AtomFeedElement</code>.

<pre class=idl><code>interface <dfn>AtomFeedElement</dfn> : <span>AtomElement</span> {
  readonly attribute <span>HTMLCollection</span> <span title=dom-AtomFeedElement-authorElements>authorElements</span>;
  readonly attribute <span>HTMLCollection</span> <span title=dom-AtomFeedElement-categoryElements>categoryElements</span>;
  readonly attribute <span>HTMLCollection</span> <span title=dom-AtomFeedElement-contributorElements>contributorElements</span>;
  readonly attribute <span>AtomGeneratorElement</span>? <span title=dom-AtomFeedElement-generatorElement>generatorElement</span>;
  attribute <span>DOMString</span> <span title=dom-AtomFeedElement-icon>icon</span>;
  attribute <span>DOMString</span> <span title=dom-AtomFeedElement-atomId>atomId</span>;
  readonly attribute <span>HTMLCollection</span> <span title=dom-AtomFeedElement-linkElements>linkElements</span>;
  attribute <span>DOMString</span> <span title=dom-AtomFeedElement-logo>logo</span>;
  readonly attribute <span>AtomRightsElement</span>? <span title=dom-AtomFeedElement-rightsElement>rightsElement</span>;
  readonly attribute <span>AtomSubtitleElement</span>? <span title=dom-AtomFeedElement-subtitleElement>subtitleElement</span>;
  readonly attribute <span>AtomTitleElement</span>? <span title=dom-AtomFeedElement-titleElement>titleElement</span>;
  readonly attribute <span>AtomUpdatedElement</span>? <span title=dom-AtomFeedElement-updatedElement>updatedElement</span>;
  readonly attribute <span>HTMLCollection</span> <span title=dom-AtomFeedElement-entryElements>entryElements</span>;
  <span>AtomEntryElement</span>? <span title=dom-AtomFeedElement-getEntryElementById>getEntryElementById</span>(<span>DOMString</span> id);
  <span>AtomEntryElement</span> <span title=dom-AtomFeedElement-addNewEntry>addNewEntry</span>(<span>DOMString</span> id, [TreatNullAs=EmptyString] <span>DOMString</span> title, [TreatNullAs=EmptyString] <span>DOMString</span> lang);
};</code></pre>

<p>The <dfn
title=dom-AtomFeedElement-authorElements><code>authorElements</code></dfn>
attribute of the <code>AtomFeedElement</code> interface <em
class=rfc2119>MUST</em> return the <code>author</code> <span>child
element list</span> for the <span>context object</span>.

<p>The <dfn
title=dom-AtomFeedElement-categoryElements><code>categoryElements</code></dfn>
attribute of the <code>AtomFeedElement</code> interface <em
class=rfc2119>MUST</em> return the <code>category</code> <span>child
element list</span> for the <span>context object</span>.

<p>The <dfn
title=dom-AtomFeedElement-contributorElements><code>contributorElements</code></dfn>
attribute of the <code>AtomFeedElement</code> interface <em
class=rfc2119>MUST</em> return the <code>contributor</code>
<span>child element list</span> for the <span>context object</span>.

<p>The <dfn
title=dom-AtomFeedElement-generatorElement><code>generatorElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>generator</code> child element</span>.

<p>The <dfn title=dom-AtomFeedElement-icon><code>icon</code></dfn>
attribute <em class=rfc2119>MUST</em> <span title="reflect the URL
value of a child element">reflect the URL value of the
<code>icon</code> child element</span>.

<p>The <dfn title=dom-AtomFeedElement-atomId><code>atomId</code></dfn>
attribute <em class=rfc2119>MUST</em> <span title="reflect the string
value of a child element">reflect the string value of the
<code>id</code> child element</span>.

<p>The <dfn
title=dom-AtomFeedElement-linkElements><code>linkElements</code></dfn>
attribute of the <code>AtomFeedElement</code> interface <em
class=rfc2119>MUST</em> return the <code>link</code> <span>child
element list</span> for the <span>context object</span>.

<p>The <dfn title=dom-AtomFeedElement-logo><code>logo</code></dfn>
attribute <em class=rfc2119>MUST</em> <span title="reflect the URL
value of a child element">reflect the URL value of the
<code>logo</code> child element</span>.

<p>The <dfn
title=dom-AtomFeedElement-rightsElement><code>rightsElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>subtitle</code> child element</span>.

<p>The <dfn
title=dom-AtomFeedElement-subtitleElement><code>subtitleElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>subtitle</code> child element</span>.

<p>The <dfn
title=dom-AtomFeedElement-titleElement><code>titleElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>title</code> child element</span>.

<p>The <dfn
title=dom-AtomFeedElement-updatedElement><code>updatedElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>updated</code> child element</span>.

<p class=ed>
      atom:entry children MUST be placed after any other elements.
      Attributes creating children should insert them before any
      entries?

<p>The <dfn
title=dom-AtomFeedElement-entryElements><code>entryElements</code></dfn>
attribute of the <code>AtomFeedElement</code> interface <em
class=rfc2119>MUST</em> return the <code>entry</code> <span>child
element list</span> for the <span>context object</span>.

<p>The <dfn
title=dom-AtomFeedElement-getEntryElementById><code>getEntryElementById(<var
title>id</var>)</code></dfn> attribute <em class=rfc2119>MUST</em>
return the first <span title=concept-element>element</span> in the
<code title=dom-AtomFeedElement-entryElements>entryElements</code>
<span title=concept-collection>collection</span> whose <code
title=dom-AtomEntryElement-atomId>atomId</code> attribute value is
<var title>id</var> and is not the empty string, if any, or
<code>null</code> otherwise.

<p>The <dfn
title=dom-AtomFeedElement-addNewEntry><code>addNewEntry(<var
title>id</var>, <var title>title</var>, <var
title>lang</var>)</code></dfn> method <em class=rfc2119>MUST</em> run
the following steps:

<ol class=algorithm>

<li>Let <var title>entry</var> be a <code>entry</code> <span
class=concept-element>element</span> in the <span>Atom
namespace</span>.

<li><span>Set the <code>xml:lang</code> attribute</span> of <var
title>entry</var> to <var title>lang</var>.

<li><span title=concept-append-atom-element>Append an Atom
<code>id</code> element</span> whose <var title>text content</var> is
<var title>id</var> to <var title>entry</var>.

<li><span title=concept-append-atom-element>Append an Atom
<code>title</code> element</span> whose <var title>text content</var>
is <var title>title</var> to <var title>entry</var>.

<li><span title=concept-append-atom-element>Append an Atom
<code>updated</code> element</span> whose <var title>text
content</var> is <span>valid normalized forced-UTC global date and
time string</span> of the current time to <var title>entry</var>.

<li><span title=concept-node-append>Append</span> <var
title>entry</var> to the <span>context object</span>.

<li>Return <var title>entry</var>.

</ol>

</section>

<section>
<h3>The <code>AtomEntryElement</code> interface</h3>

<p>The <span title=concept-element-interface>element interface</span>
for the <code>entry</code> <span title=concept-element>element</span>
in the <span>Atom namespace</span> is <code>AtomEntryElement</code>.

<pre class=idl><code>interface <dfn>AtomEntryElement</dfn> : <span>AtomElement</span> {
  readonly attribute <span>HTMLCollection</span> <span title=dom-AtomEntryElement-authorElements>authorElements</span>;
  readonly attribute <span>HTMLCollection</span> <span title=dom-AtomEntryElement-entryAuthorElements>entryAuthorElements</span>;
  readonly attribute <span>HTMLCollection</span> <span title=dom-AtomEntryElement-categoryElements>categoryElements</span>;
  readonly attribute <span>AtomContentElement</span>? <span title=dom-AtomEntryElement-contentElement>contentElement</span>;
  readonly attribute <span>HTMLCollection</span> <span title=dom-AtomEntryElement-contributorElements>contributorElements</span>;
  attribute <span>DOMString</span> <span title=dom-AtomEntryElement-atomId>atomId</span>;
  readonly attribute <span>HTMLCollection</span> <span title=dom-AtomEntryElement-linkElements>linkElements</span>;
  readonly attribute <span>AtomPublishedElement</span>? <span title=dom-AtomEntryElement-publishedElement>publishedElement</span>;
  readonly attribute <span>AtomRightsElement</span>? <span title=dom-AtomEntryElement-rightsElement>rightsElement</span>;
  readonly attribute <span>AtomRightsElement</span>? <span title=dom-AtomEntryElement-entryRightsElement>entryRightsElement</span>;
  readonly attribute <span>AtomSourceElement</span>? <span title=dom-AtomEntryElement-sourceElement>sourceElement</span>;
  readonly attribute <span>AtomSummaryElement</span>? <span title=dom-AtomEntryElement-summaryElement>summaryElement</span>;
  readonly attribute <span>AtomTitleElement</span>? <span title=dom-AtomEntryElement-titleElement>titleElement</span>;
  readonly attribute <span>AtomUpdatedElement</span>? <span title=dom-AtomEntryElement-updatedElement>updatedElement</span>;
  readonly attribute <span>HTMLCollection</span> <span title=dom-AtomEntryElement-threadInReplyToElements>threadInReplyToElements</span>;
};</code></pre>

<p>The <dfn
title=dom-AtomEntryElement-authorElements><code>authorElements</code></dfn>
attribute of the <code>AtomEntryElement</code> interface <em
class=rfc2119>MUST</em> return the <code>author</code> <span>child
element list</span> for the <span>context object</span>.

<p>The <dfn
title=dom-AtomEntryElement-entryAuthorElements><code>entryAuthorElements</code></dfn>
attribute of the <code>AtomEntryElement</code> interface <em
class=rfc2119>MUST</em> run the following steps:

  <ol class=algorithm>

  <li>If the <span>context object</span> contains one or more
  <code>author</code> <span title=concept-tree-child>child</span>
  <span title=concept-element>element</span> in the <span>Atom
  namespace</span>, return the <code
  title=dom-AtomEntryElement-authorElements>authorElements</code>
  <span title=concept-collection>collection</span> of the
  <span>context object</span> and abort these steps.

  <li>If the <span>context object</span> contains a
  <code>source</code> <span title=concept-tree-child>child</span>
  <span title=concept-element>element</span> in the <span>Atom
  namespace</span>, return the <code
  title=dom-AtomSourceElement-authorElements>authorElements</code>
  <span title=concept-collection>collection</span> of the first such
  <span title=concept-element>element</span> and abort these steps
  unless that <span title=concept-collection>collection</span> is
  empty.

  <li>If the <span title=concept-tree-parent>parent</span> of the
  <span>context object</span> is the <code>feed</code> <span
  title=concept-element>element</span> in the <span>Atom
  namespace</span>, return the <code
  title=dom-AtomFeedElement-authorElements>authorElements</code> <span
  title=concept-collection>collection</span> of the <span
  title=concept-element>element</span> and abort these steps.

  <li>Return the <code
  title=dom-AtomEntryElement-authorElements>authorElements</code>
  <span title=concept-collection>collection</span> of the
  <span>context object</span>.

  </ol>

<p>The <dfn
title=dom-AtomEntryElement-categoryElements><code>categoryElements</code></dfn>
attribute of the <code>AtomEntryElement</code> interface <em
class=rfc2119>MUST</em> return the <code>category</code> <span>child
element list</span> for the <span>context object</span>.

<p>The <dfn
title=dom-AtomEntryElement-contentElement><code>contentElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>content</code> child element</span>.

<p>The <dfn
title=dom-AtomEntryElement-contributorElements><code>contributorElements</code></dfn>
attribute of the <code>AtomEntryElement</code> interface <em
class=rfc2119>MUST</em> return the <code>contributor</code>
<span>child element list</span> for the <span>context object</span>.

<p>The <dfn
title=dom-AtomEntryElement-atomId><code>atomId</code></dfn> attribute
<em class=rfc2119>MUST</em> <span title="reflect the string value of a
child element">reflect the string value of the <code>id</code> child
element</span>.

<p>The <dfn
title=dom-AtomEntryElement-linkElements><code>linkElements</code></dfn>
attribute of the <code>AtomEntryElement</code> interface <em
class=rfc2119>MUST</em> return the <code>link</code> <span>child
element list</span> for the <span>context object</span>.

<p>The <dfn
title=dom-AtomEntryElement-publishedElement><code>publishedElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>published</code> child element</span>.

<p>The <dfn
title=dom-AtomEntryElement-rightsElement><code>rightsElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>rights</code> child element</span>.

<p>The <dfn
title=dom-AtomEntryElement-entryRightsElement><code>entryRightsElement</code></dfn>
attribute of the <code>AtomEntryElement</code> interface <em
class=rfc2119>MUST</em> run the following steps:

  <ol class=algorithm>

  <li>If the <span>context object</span> contains one or more
  <code>rights</code> <span title=concept-tree-child>child</span>
  <span title=concept-element>element</span> in the <span>Atom
  namespace</span>, return the first such <span
  title=concept-element>element</span> and abort these steps.

  <li>If the <span title=concept-tree-parent>parent</span> of the
  <span>context object</span> is a <code>feed</code> <span
  title=concept-element>element</span> in the <span>Atom
  namespace</span>, return the <code
  title=dom-AtomFeedEntryElement-rightsElement>rightsElement</code>
  attribute value of that <span title=concept-element>element</span>
  and abort these steps unless it is <code>null</code>.

  <li>Return the <code
  title=dom-AtomEntryElement-rightsElement>rightsElement</code>
  attribute value of the <span>context object</span>.

  </ol>

<p>The <dfn
title=dom-AtomEntryElement-sourceElement><code>sourceElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>source</code> child element</span>.

<p>The <dfn
title=dom-AtomEntryElement-summaryElement><code>summaryElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>summary</code> child element</span>.

<p>The <dfn
title=dom-AtomEntryElement-titleElement><code>titleElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>title</code> child element</span>.

<p>The <dfn
title=dom-AtomEntryElement-updatedElement><code>updatedElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>updated</code> child element</span>.

<p>The <dfn
title=dom-AtomEntryElement-threadInReplyToElements><code>threadInReplyToElements</code></dfn>
attribute of the <code>AtomEntryElement</code> interface <em
class=rfc2119>MUST</em> return the <code>in-reply-to</code>
<span>child element list</span> for the <span>context object</span> in
the <span>Atom Threading namespace</span>.

</section>

<section>
<h3>The <code>AtomSourceElement</code> interface</h3>

<p>The <span title=concept-element-interface>element interface</span>
for the <code>source</code> <span title=concept-element>element</span>
in the <span>Atom namespace</span> is <code>AtomSourceElement</code>.

<pre class=idl><code>interface <dfn>AtomSourceElement</dfn> : <span>AtomElement</span> {
  readonly attribute <span>HTMLCollection</span> <span title=dom-AtomSourceElement-authorElements>authorElements</span>;
  readonly attribute <span>HTMLCollection</span> <span title=dom-AtomSourceElement-categoryElements>categoryElements</span>;
  readonly attribute <span>HTMLCollection</span> <span title=dom-AtomSourceElement-contributorElements>contributorElements</span>;
  readonly attribute <span>AtomGeneratorElement</span>? <span title=dom-AtomSourceElement-generatorElement>generatorElement</span>;
  attribute <span>DOMString</span> <span title=dom-AtomSourceElement-icon>icon</span>;
  attribute <span>DOMString</span> <span title=dom-AtomSourceElement-atomId>atomId</span>;
  readonly attribute <span>HTMLCollection</span> <span title=dom-AtomSourceElement-linkElements>linkElements</span>;
  attribute <span>DOMString</span> <span title=dom-AtomSourceElement-logo>logo</span>;
  readonly attribute <span>AtomRightsElement</span>? <span title=dom-AtomSourceElement-rightsElement>rightsElement</span>;
  readonly attribute <span>AtomSubtitleElement</span>? <span title=dom-AtomSourceElement-subtitleElement>subtitleElement</span>;
  readonly attribute <span>AtomTitleElement</span>? <span title=dom-AtomSourceElement-titleElement>titleElement</span>;
  readonly attribute <span>AtomUpdatedElement</span>? <span title=dom-AtomSourceElement-updatedElement>updatedElement</span>;
};</code></pre>

<p>The <dfn
title=dom-AtomSourceElement-authorElements><code>authorElements</code></dfn>
attribute of the <code>AtomSourceElement</code> interface <em
class=rfc2119>MUST</em> return the <code>author</code> <span>child
element list</span> for the <span>context object</span>.

<p>The <dfn
title=dom-AtomSourceElement-categoryElements><code>categoryElements</code></dfn>
attribute of the <code>AtomSourceElement</code> interface <em
class=rfc2119>MUST</em> return the <code>category</code> <span>child
element list</span> for the <span>context object</span>.

<p>The <dfn
title=dom-AtomSourceElement-contributorElements><code>contributorElements</code></dfn>
attribute of the <code>AtomSourceElement</code> interface <em
class=rfc2119>MUST</em> return the <code>contributor</code>
<span>child element list</span> for the <span>context object</span>.

<p>The <dfn
title=dom-AtomSourceElement-generatorElement><code>generatorElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>generator</code> child element</span>.

<p>The <dfn title=dom-AtomSourceElement-icon><code>icon</code></dfn>
attribute <em class=rfc2119>MUST</em> <span title="reflect the URL
value of a child element">reflect the URL value of the
<code>icon</code> child element</span>.

<p>The <dfn
title=dom-AtomSourceElement-atomId><code>atomId</code></dfn> attribute
<em class=rfc2119>MUST</em> <span title="reflect the string value of a
child element">reflect the string value of the <code>id</code> child
element</span>.

<p>The <dfn
title=dom-AtomSourceElement-linkElements><code>linkElements</code></dfn>
attribute of the <code>AtomSourceElement</code> interface <em
class=rfc2119>MUST</em> return the <code>link</code> <span>child
element list</span> for the <span>context object</span>.

<p>The <dfn title=dom-AtomSourceElement-logo><code>logo</code></dfn>
attribute <em class=rfc2119>MUST</em> <span title="reflect the URL
value of a child element">reflect the URL value of the
<code>logo</code> child element</span>.

<p>The <dfn
title=dom-AtomSourceElement-rightsElement><code>rightsElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>rights</code> child element</span>.

<p>The <dfn
title=dom-AtomSourceElement-subtitleElement><code>subtitleElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>subtitle</code> child element</span>.

<p>The <dfn
title=dom-AtomSourceElement-titleElement><code>titleElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>title</code> child element</span>.

<p>The <dfn
title=dom-AtomSourceElement-updatedElement><code>updatedElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <span title="obtain the
child element">the <code>updated</code> child element</span>.

</section>

<section>
<h3>The <code>AtomContentElement</code> interface</h3>

<p>The <span title=concept-element-interface>element interface</span>
for the <code>content</code> <span
title=concept-element>element</span> in the <span>Atom
namespace</span> is <code>AtomContentElement</code>.

<pre class=idl><code>interface <dfn>AtomContentElement</dfn> : <span>AtomElement</span> {
  attribute <span>DOMString</span> <span title=dom-AtomContentElement-type>type</span>;
  attribute <span>DOMString</span> <span title=dom-AtomContentElement-src>src</span>;
  readonly attribute <span>Element</span>? <span title=dom-AtomContentElement-container>container</span>;
};</code></pre>

<p>The <dfn title=dom-AtomContentElement-type><code>type</code></dfn>
attribute of the <code>AtomContentElement</code> interface <em
class=rfc2119>MUST</em> <span>reflect</span> the <span>content
attribute</span> of the same name.  The default value for the
attribute is <code>text</code> if the <span>context object</span> does
not have the <code>src</code> <span title=concept-attribute>content
attribute</span>, or no default value otherwise.

<p>The <dfn title=dom-AtomContentElement-src><code>src</code></dfn>
attribute of the <code>AtomContentElement</code> interface <em
class=rfc2119>MUST</em> <span>reflect</span> the <span>content
attribute</span> of the same name, which for the purposees of
reflection is defined as containing a <span>URL</span>.

<p>The <dfn
title=dom-AtomContentElement-container><code>container</code></dfn>
attribute of the <code>AtomContentElement</code> interface <em
class=rfc2119>MUST</em> run the following steps:

<ol class=algorithm>

<li>If the <span title=concept-attribute-value>value</span> of the
<code>type</code> <span title=concept-attribute>content
attribute</span> of the <span>context object</span>, if any, is
<code>xhtml</code>, return <span title="obtain the child element">the
<code>div</code> child element</span> of <var title>element</var>, in
the <span>HTML namespace</span>.

<li>Otherwise, if the <code>src</code> <span
title=concept-attribute>content attribute</span> is not present,
return <code>null</code>.

<li>Otherwise, return the <span>context object</span>.

</ol>

<div class=ed>

<p>XXX Accessor for Base64ed content...

</div>

</section>

<section>
<h3>The <code>AtomCategoryElement</code> interface</h3>

<p>The <span title=concept-element-interface>element interface</span>
for the <code>category</code> <span
title=concept-element>element</span> in the <span>Atom
namespace</span> is <code>AtomCategoryElement</code>.

<pre class=idl><code>interface <dfn>AtomCategoryElement</dfn> : <span>AtomElement</span> {
  attribute <span>DOMString</span> <span title=dom-AtomCategoryElement-term>term</span>;
  attribute <span>DOMString</span> <span title=dom-AtomCategoryElement-scheme>scheme</span>;
  attribute <span>DOMString</span> <span title=dom-AtomCategoryElement-label>label</span>;
};</code></pre>

<p>The <dfn title=dom-AtomCategoryElement-term><code>term</code></dfn>
and <dfn title=dom-AtomCategoryElement-label><code>label</code></dfn>
attributes of the <code>AtomCategoryElement</code> interface <em
class=rfc2119>MUST</em> <span>reflect</span> the <span>content
attribute</span> of the same name.

<p>The <dfn
title=dom-AtomCategoryElement-scheme><code>scheme</code></dfn>
attribute of the <code>AtomCategoryElement</code> interface <em
class=rfc2119>MUST</em> <span>reflect</span> the <span>content
attribute</span> of the same name, which for the purposees of
reflection is defined as containing a <span>URL</span>.

</section>

<section>
<h3>The <code>AtomGeneratorElement</code> interface</h3>

<p>The <span title=concept-element-interface>element interface</span>
for the <code>generator</code> <span
title=concept-element>element</span> in the <span>Atom
namespace</span> is <code>AtomGeneratorElement</code>.

<pre class=idl><code>interface <dfn>AtomGeneratorElement</dfn> : <span>AtomElement</span> {
  attribute <span>DOMString</span> <span title=dom-AtomGeneratorElement-uri>uri</span>;
  attribute <span>DOMString</span> <span title=dom-AtomGeneratorElement-version>version</span>;
};</code></pre>

<p>The <dfn title=dom-AtomGeneratorElement-uri><code>uri</code></dfn>
attribute of the <code>AtomGeneratorElement</code> interface <em
class=rfc2119>MUST</em> <span>reflect</span> the <span>content
attribute</span> of the same name, which for the purposees of
reflection is defined as containing a <span>URL</span>.

<p>The <dfn
title=dom-AtomGeneratorElement-version><code>version</code></dfn>
attribute of the <code>AtomGeneratorElement</code> interface <em
class=rfc2119>MUST</em> <span>reflect</span> the <span>content
attribute</span> of the same name.

</section>

<section>
<h3>The <code>AtomLinkElement</code> interface</h3>

<p>The <span title=concept-element-interface>element interface</span>
for the <code>link</code> <span title=concept-element>element</span>
in the <span>Atom namespace</span> is <code>AtomLinkElement</code>.

<pre class=idl><code>interface <dfn>AtomLinkElement</dfn> : <span>AtomElement</span> {
  attribute <span>DOMString</span> <span title=dom-AtomLinkElement-href>href</span>;
  attribute <span>DOMString</span> <span title=dom-AtomLinkElement-hreflang>hreflang</span>;
  attribute <span>DOMString</span> <span title=dom-AtomLinkElement-length>length</span>;
  attribute <span>DOMString</span> <span title=dom-AtomLinkElement-rel>rel</span>;
  attribute <span>DOMString</span> <span title=dom-AtomLinkElement-title>title</span>;
  attribute <span>DOMString</span> <span title=dom-AtomLinkElement-type>type</span>;
  attribute <span>unsigned long</span> <span title=dom-AtomLinkElement-threadCount>threadCount</span>;
  attribute <span>DOMTimeStamp</span> <span title=dom-AtomLinkElement-threadUpdated>threadUpdated</span>;
};</code></pre>

<p>The <dfn title=dom-AtomLinkElement-href><code>href</code></dfn>
attribute of the <code>AtomLinkElement</code> interface <em
class=rfc2119>MUST</em> <span>reflect</span> the <span>content
attribute</span> of the same name, which for the purposees of
reflection is defined as containing a <span>URL</span>.

<p>On getting, the <dfn
title=dom-AtomLinkElement-rel><code>rel</code></dfn> attribute <em
class=rfc2119>MUST</em> run the following steps:

  <ol class=algorithm>

  <li>If the <span>context object</span> does not has the
  <code>rel</code> <span title=concept-attribute>content
  attribute</span>, return the empty string and abort these steps.

  <li>Let <var title>value</var> be the <code>rel</code> <span
  title=concept-attribute>attribute</span> <span
  title=concept-attribute-value>value</span> of the <span>context
  object</span>.

  <li>If <var title>value</var> contains the <code>U+003A</code> <code
  class=charname>COLON</code> character (<code>:</code>), return <var
  title>value</var> and abort these steps.

  <li>Return the string
  <code>http://www.iana.org/assignments/relation/</code> followed by
  <var title>value</var>.

  </ol>

<p>On setting, the <code title=dom-AtomLinkElement-rel>rel</code>
attribute <em class=rfc2119>MUST</em> run the following steps:

  <ol class=algorithm>

  <li>Let <var title>value</var> be the given value.

  <li>If <var title>value</var> is
  <code>http://www.iana.org/assignments/relation/</code> followed by
  one or more characters other than <code>U+003A</code> <code
  class=charname>COLON</code> character (<code>:</code>),
  <code>U+002F</code> <code class=charname>SOLIDUS</code> character
  (<code>/</code>), and <code>U+003F</code> <code
  class=charname>QUESTION MARK</code> character (<code>?</code>),
  remove the <code>http://www.iana.org/assignments/relation/</code>
  prefix from <var title>value</var>.

  <li><span title=concept-element-attributes-set>Set the
  <code>rel</code> attribute</span> of the <span>context object</span>
  to <var title>value</var>.

  </ol>

<p>The <dfn title=dom-AtomLinkElement-type><code>type</code></dfn>
attribute of the <code>AtomLinkElement</code> interface <em
class=rfc2119>MUST</em> <span>reflect</span> the <span>content
attribute</span> of the same name.  The default value for the
<code>type</code> attribute is <code>application/atom+xml</code> if
the <code title=dom-AtomLinkElement-rel>rel</code> attribute value of
the <span>context object</span> is
<code>http://www.iana.org/assignments/relation/replies</code>, or no
default value otherwise.

<p>The <dfn
title=dom-AtomLinkElement-hreflang><code>hreflang</code></dfn>, <dfn
title=dom-AtomLinkElement-title><code>title</code></dfn>, <dfn
title=dom-AtomLinkElement-length><code>length</code></dfn>, and <dfn
title=dom-AtomLinkElement-threadCount><code>threadCount</code></dfn>
attributes of the <code>AtomLinkElement</code> interface <em
class=rfc2119>MUST</em> <span>reflect</span> the <span>content
attribute</span> of the same name.

<p>On getting, the <dfn
title=dom-AtomLinkElement-threadUpdated><code>threadUpdated</code></dfn>
attribute of the <code>AtomLinkElement</code> interface <em
class=rfc2119>MUST</em> <span title="parse a global date and time
string">parse</span> the <span
title=concept-attribute-value>value</span> of the <code>updated</code>
<span title=concept-attribute>attribute</span> in the <span>Atom
Threading namespace</span>.  If the <span
title=concept-attribute>attribute</span> is not present, or the
parsing fails, it <em class=rfc2119>MUST</em> return zero instead.

<p>On setting, the <code
title=dom-AtomLinkElement-threadUpdated>threadUpdated</code> attribute
of the <code>AtomLinkElement</code> interface <em
class=rfc2119>MUST</em> <span title=concept-element-attributes-set>Set
the <code>updated</code> attribute</span> in the <span>Atom Threading
namespace</span> to the <span>valid normalized forced-UTC global date
and time string</span> representation of the given value.

</section>

</section>

<section>
<h2>Interfaces for Atom Threading extensions</h2>

<section>
<h3>The <code>AtomThreadInReplyToElement</code> interface</h3>

<p>The <span title=concept-element-interface>element interface</span>
for the <code>in-reply-to</code> <span
title=concept-element>element</span> in the <span>Atom Threading
namespace</span> is <code>AtomThreadInReplyToElement</code>.

<pre class=idl><code>interface <dfn>AtomThreadInReplyToElement</dfn> : <span>AtomElement</span> {
  attribute <span>DOMString</span> <span title=dom-AtomThreadInReplyToElement-href>href</span>;
  attribute <span>DOMString</span> <span title=dom-AtomThreadInReplyToElement-ref>ref</span>;
  attribute <span>DOMString</span> <span title=dom-AtomThreadInReplyToElement-source>source</span>;
  attribute <span>DOMString</span> <span title=dom-AtomThreadInReplyToElement-type>type</span>;
};</code></pre>

<p>The <dfn
title=dom-AtomThreadInReplyToElement-href><code>href</code></dfn>,
<dfn title=dom-AtomThreadInReplyToElement-ref><code>ref</code></dfn>,
and <dfn
title=dom-AtomThreadInReplyToElement-source><code>source</code></dfn>
attributes of the <code>AtomThreadInReplyToElement</code> interface
<em class=rfc2119>MUST</em> <span>reflect</span> the <span>content
attribute</span> of the same name, which for the purposees of
reflection is defined as containing a <span>URL</span>.

<p>The <dfn
title=dom-AtomThreadInReplyToElement-type><code>type</code></dfn>,
attribute of the <code>AtomThreadInReplyToElement</code> interface <em
class=rfc2119>MUST</em> <span>reflect</span> the <span>content
attribute</span> of the same name.

</section>

<section>
<h3>The <code>AtomThreadTotalElement</code> interface</h3>

<p>The <span title=concept-element-interface>element interface</span>
for the <code>total</code> <span title=concept-element>element</span>
in the <span>Atom Threading namespace</span> is
<code>AtomThreadTotalElement</code>.

<pre class=idl><code>interface <dfn>AtomThreadTotalElement</dfn> : <span>AtomElement</span> {
  attribute <span>unsigned long</span> <span title=dom-AtomThreadTotalElement-value>value</span>;
};</code></pre>

<p>The <dfn
title=dom-AtomThreadTotalElement-value><code>value</code></dfn>
attribute of the <code>AtomThreadTotalElement</code> interface <em
class=rfc2119>MUST</em> <span>reflect</span> a fictional <span>content
attribute</span> corresponding to the <code
title=dom-Node-textContent>textContent</code> <span>IDL
attribute</span>.

</section>

</section>

<section>
<h2>Changes from earlier versions of Atom DOM</h2>

<p>Earlier versions of this specification defined following feature
strings, which are now considered obsolete:

<ul>

<li>Feature
<dfn><code>http://suika.fam.cx/www/2006/feature/Atom</code></dfn>
version <code>1.0</code>, identifying the core part of the Atom DOM.

<li>Feature
<dfn><code>http://suika.fam.cx/www/2006/feature/AtomThreading</code></dfn>
version <code>1.0</code>, identifying the Atom Threading Extension
support of the Atom DOM.

</ul>

<p>The <a
href="#AtomImplementation"><dfn><code>AtomImplementation</code></dfn></a>
interface is now defined as a partial interface for
<code>DOMImplementation</code>.

<p>The <a
href="#AtomDocument"><dfn><code>AtomDocument</code></dfn></a>
interface is now defined as a partial interface for
<code>Document</code>.

<p>The <dfn><code>AtomEntryElementThread</code></dfn> and
<dfn><code>AtomLinkElementThread</code></dfn> interfaces are merged
with <code>AtomEntryElement</code> and <code>AtomLinkElement</code>
interfaces, respectively.

<p>Earlier versions of this specification specified different handling
of <code>null</code> values for reflecting attributes.  They are
removed for consistency with DOM and HTML.

<p>Earlier versions of this specification specfied list of elements
returned by various attributes as <span
title=concept-collection-static>static</span>, which is now changed to
<span title=concept-collection-live>live</span> for consistency with
HTML DOM.

<p>The <code>id</code> attribute of <code>AtomFeedElement</code>,
<code>AtomEntryElement</code>, and <code>AtomSourceElement</code>
interfaces is renamed as <code title>atomId</code> to avoid
confliction with <code>Element</code>'s <code
title=dom-Element-id>id</code> attribute defined by DOM.

</section>

<section class="reference normative">
<h2 class=no-num>References</h2>

<dl>

<dt id=ref-ATOM>ATOM
<dd><a href="http://tools.ietf.org/html/rfc4287"><cite>The Atom Syndication Format</cite></a>, IETF, RFC 4287.

<dt id=ref-ATOMTHREADING>ATOMTHREADING
<dd><a href="http://tools.ietf.org/html/rfc4685"><cite>Atom Threading Extensions</cite></a>, IETF, RFC 4685.

<dt id=ref-DOM>DOM
<dd><a href="http://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>, WHATWG.

<dt id=ref-HTML>HTML
<dd><a href="http://www.whatwg.org/specs/web-apps/current-work/complete.html"><cite>HTML Standard</cite></a>, WHATWG.

<dt id=ref-MANAKAI>MANAKAI
<dd><a href="http://suika.suikawiki.org/~wakaba/wiki/sw/n/manakai%20DOM%20Extensions"><cite>manakai DOM Extensions</cite></a>, manakai project.

<dt id=ref-RFC2119>RFC2119
<dd><a href="http://tools.ietf.org/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>, IETF, RFC 2119, BCP 14.

<dt id=ref-SVG>SVG
<dd><a href="https://svgwg.org/svg2-draft/single-page.html"><cite>Scalable Vector Graphics (SVG) 2</cite></a>, W3C SVG WG.

<dt id=ref-URL>URL
<dd><a href="http://url.spec.whatwg.org/"><cite>URL Standard</cite></a>, WHATWG.

<dt id=ref-WEBIDL>WEBIDL
<dd><a href="http://dev.w3.org/2006/webapi/WebIDL/"><cite>WebIDL</cite></a>, Cameron McCormack.

</dl>

</section>
