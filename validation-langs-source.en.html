<!DOCTYPE html>
<html lang="en" class="formal-specification anolis">
<head>
<title>DOM Tree Validation</title>
<meta charset=utf-8>
<link rel=stylesheet href=spec.css>
<link rel="license" href="#license">
</head>
<body class="has-abstract">

<header>

<hgroup>
  <h1 class="no-toc no-num">DOM Tree Validation</h1>
  <h2 class="no-toc no-num">The manakai project, [DATE]</h2>
</hgroup>

<dl class="versions-uri">

<div>
<dt>Latest version
<dd><a href=https://manakai.github.io/spec-dom/validation-langs>https://manakai.github.io/spec-dom/validation-langs</a>
</div>

<div id=version-history>
<dt>Version history
<dd><a href=https://github.com/manakai/spec-dom/commits/gh-pages/validation-langs-source.en.html>https://github.com/manakai/spec-dom/commits/gh-pages/validation-langs-source.en.html</a>
</div>

</dl>

</header>

<section id=status>
<h1 class="no-toc no-num">Status of This Document</h1>

<p>This document is
a <a href="https://manakai.github.io/docs#specs">technical
specification</a> produced as part
of <a href="https://manakai.github.io/">the manakai project</a>.  It
might be updated, replaced, or obsoleted by other documents at any
time.

<p>The scope of this specification is limited to the products
within <a href="https://manakai.github.io/">the manakai project</a>.
It does not intended to be implemented by multiple parties, although
nothing prevents it from implemented by other DOM implementations.

</section>

<section>
<h1 class="no-toc no-num">Table of contents</h1>
<!-- toc -->
</section>

<section>
<h1>Introduction</h1>

<p class=section-info><em>This section is non-normative.</em>

<p>This specification defines details of DOM tree validation not
covered by other <span title="applicable specification">applicable
specifications</span>.

<section>
<h1>Scope</h1>

<p>This specification's goals are to:

<ul>

<li>identify features that are to be reported as <span>obsolete</span>
or <span>limited use</span>,

<li>make it clearer that <span title=validator>validators</span> are
not perfect,

<li>define how to <span>validate</span> unknown elements, attributes,
and processing instructions,

<li>define how to <span>validate</span> <span title="superglobal
attribute">superglobal attributes</span> when they are not allowed,

<li>integrate the requirements of feed format (RSS and Atom)
specifications with the rest of the platform,

<li>define how to <span>validate</span> OGP,

and

<li>define the <span>template
mode</span> <span title=validate>validation</span>,

</ul>

... for <span title=validator>validators</span> produced
by <a href="https://manakai.github.io/">the manakai project</a>.

<p class=XXX>
The obsvocab specification might be merged with this specification in
due course.

</section>

<section id=history>
  <h1>History</h1>

  <p>This specification was originally published
  at <code class="URI">&lt;<a href="http://suika.suikawiki.org/www/markup/xml/validation-langs">http://suika.suikawiki.org/www/markup/xml/validation-langs</a>&gt;</code>
  as <cite>Handling of unknown namespaces in conformance
  checking</cite> since <time datetime=2013-12>December,
  2013</time>.  <!-- and its history was at
  <http://suika.suikawiki.org/gate/git/wi/markup/xmlexts.git/history/HEAD:/validation-langs-source.en.html>
  -->

  <p>Some of texts in this specification were originally part of
  comments and documentations of the Perl modules developed by the
  <a href=https://manakai.github.io/>the manakai project</a>.

  <p>Earlier versions of this specification had
  defined <dfn>validation mode</dfn>, which was an attempt to define
  interaction of RDF/XML, RSS1, RSS2, and XSLT vocabularies with the
  rest of the platform in <span title=validate>validation</span>.  The
  concept was abandoned because it introduced much complexity into the
  specification and <span title=validator>validators</span>.

  <p>Earlier versions of this specification had contained
  non-normative descriptions of how to <span>validate</span>
  HTML <code id=checking-an-html-script-element>script</code>
  and <code id=checking-an-html-style-element>style</code> <span title=element>elements</span>.
  As definitions of these <span title=element>elements</span> were
  slightly simplified in the
  <a href=https://html.spec.whatwg.org><cite>HTML Standard</cite></a>,
  these descriptions were removed.

  <p>Earlier versions of this specification had
  defined <span>RDF/XML</span> integration, which is dropped due to
  lack of interest.

</section>

</section>

<section>
<h1>Infrastructure</h1>

<p>This specification depends on the
<a href=https://infra.spec.whatwg.org/><cite>Infra
Standard</cite></a>.  The terms

<dfn>list</dfn>,
<dfn>code point</dfn>,
<dfn>concatenate</dfn>,
<dfn>ASCII case-insensitive</dfn>,
<dfn>HTML namespace</dfn>,
<dfn>XML namespace</dfn>,
and
<dfn>XMLNS namespace</dfn>

are defined by the <a href=https://infra.spec.whatwg.org/><cite>Infra
Standard</cite></a>.

<p>The term
<dfn title="encoding label">label</dfn>
is defined by <a href=https://encoding.spec.whatwg.org/><cite>Encoding
Standard</cite></a>.

<p>The terms
<dfn>valid URL string</dfn>,
<dfn>absolute-URL-with-fragment string</dfn>,
and
<dfn>relative-URL-with-fragment string</dfn>
are defined by <a href="https://url.spec.whatwg.org/"><cite>URL
Standard</cite></a>.

<p>The terms
<dfn>MIME type</dfn>
and
<dfn>valid MIME type</dfn>
is defined by <a href="https://mimesniff.spec.whatwg.org/"><cite>MIME
Sniffing Standard</cite></a>.

<p>The term <dfn>valid language tag</dfn> is defined
by <a href="https://tools.ietf.org/html/bcp47">BCP 47</a>.

</section>

<section>
<h1>General rules of validation</h1>


<p>For the purpose of this specification, <dfn title="user agent">user
agents</dfn> are <span title="conformance checker">conformance
checkers</span>, also known
as <span title=validator>validators</span>.

<p><span title="user agent">User agents</span>
<em class=rfc2119>MUST</em> implement
the <a href="https://dom.spec.whatwg.org/"><cite>DOM
Standard</cite></a>.  Terms

<dfn>tree</dfn>,
<dfn>child</dfn>, 
<dfn>parent</dfn>,
<dfn>ancestor</dfn>,
<dfn>descendant</dfn>,
<dfn>node</dfn>,
<dfn>node document</dfn>,
<dfn>document</dfn>,
<dfn>content type</dfn>,
<dfn>document element</dfn>, 
<dfn>element</dfn>,
<dfn>attribute list</dfn>,
<dfn>attribute</dfn>,
<dfn title="attribute value">value</dfn>,
<dfn>namespace</dfn> (of <span>element</span> or <span>attribute</span>),
<dfn>prefix</dfn> (of <span>element</span> or <span>attribute</span>),
<dfn>local name</dfn> (of <span>element</span> or <span>attribute</span>),
<dfn>comment</dfn> (<dfn title=dom-Comment><code>Comment</code></dfn>),
<dfn>processing instruction</dfn> (<dfn><code>ProcessingInstruction</code></dfn>),
<dfn>target</dfn>,
<dfn>template content</dfn>,
<dfn>child text content</dfn>,
<dfn>shadow root</dfn>,
and
<dfn>shadow tree</dfn>

are defined by the <a href="https://dom.spec.whatwg.org/"><cite>DOM
Standard</cite></a>.

<p><span title="user agent">User
agents</span> <em class=rfc2119>MUST</em> implement the
<a href=https://html.spec.whatwg.org><cite>HTML Standard</cite></a>.
Terms

<dfn>applicable specification</dfn>,
<dfn>willful violation</dfn>,
<dfn>document base URL</dfn>,
<dfn>content model</dfn>,
<dfn>inter-element whitespace</dfn>,
<dfn>nothing</dfn>,
<dfn>valid non-negative integer</dfn>,
<dfn>valid floating-point number</dfn>,
<dfn>valid global date and time string</dfn>,
<dfn>valid e-mail address</dfn>,
<dfn>parse a URL</dfn>,
<dfn>HTML element</dfn>,
<dfn><code>div</code></dfn>,
and
<dfn>parse error</dfn>

are defined by the <a href=https://html.spec.whatwg.org><cite>HTML
Standard</cite></a>.

<p>An <span>element</span> or <span>attribute</span> is <dfn>in no
namespace</dfn> <!-- or <dfn>in null namespace</dfn> --> if
its <span>namespace</span> is <code>null</code>.
A <dfn>non-<code>null</code> namespace</dfn> is
a <span>namespace</span> that is <em>not</em> <code>null</code>.

<hr>

<p>Unless otherwise specified,
an <span>element</span> <em class=rfc2119>MAY</em>
have <span>child</span> <span title=comment>comments</span>
and <span title="processing instruction">processing
instructions</span>.  In addition, unless otherwise specified,
an <span>element</span> whose <span>content model</span>
is <em>not</em> a <span>text</span> (with or without additional
constraints) <em class=rfc2119>MAY</em>
have <span>child</span> <span title="inter-element
whitespace">inter-element whitespaces</span>.  They are ignored for
the purpose of <span>content
model</span> <span title=validate>validation</span> of
the <span>element</span>.<!-- Explicitly specified in HTML Standard
but most other specifications (RSS1, RSS2, Media RSS, Atom) do
not. -->

<p>The <span>shadow root</span>'s <span>content model</span>
is <span>flow content</span>.

<section>
<h1>Intepretation of old specifications</h1>

<p>This subsection defines how to interpret old unmaintained
specifications for the purpose
of <span title=validate>validation</span>.

  <div class=note>

  <p>These are sometimes <span title="willful violation">willful
  violations</span> to relevant <span title="applicable
  specification">specifications</span>.

  </div>

<p>When a <span title="applicable specification">specification</span>
is written without clear statements of
requirements, <span title=element>elements</span>
and <span title=attribute>attributes</span> in
the <span>namespace</span> and <span title="RSS2 element">RSS2
elements</span> defined by the <span title="applicable
specification">specification</span> <em class=rfc2119>MUST NOT</em>
conflict with the descriptions in that <span title="applicable
specification">specification</span>.  <span title=element>Elements</span>
and <span title=attribute>attributes</span> in
the <span>namespace</span> and <span title="RSS2 element">RSS2
elements</span> not defined by any <span title="applicable
specification">specification</span> <em class=rfc2119>MUST NOT</em> be
used.  Deprecated features <em class=rfc2119>SHOULD NOT</em> be
used.<!-- XML 1.0, XMLNS 1.0, RSS1, RSS content, RSS DC, DCES, RSS2
(except for RSSBP), Atom, Media RSS, iTunes, Hatena, OGP, XSLT1 -->

  <div class=note>

  <p id=reserved>Features that are "reserved" cannot be used unless
  they are defined by later <span title="applicable
  specification">specification</span>.<!-- XML 1.0 -->

  </div>

<p>When a value has to match to a production rule,
it <em class=rfc2119>MUST</em> also conform to other requirements for
that construct.<!-- HTML Standard defines <iframe srcdoc=""> in XML
MUST be an XML |document| -->

<p>When an <span>element</span>'s <span>content</span> or
an <span>attribute</span> is defined to be one of the following
constructs, the <span>element</span>'s <span>child text content</span>
or the <span>attribute value</span> <em class=rfc2119>MUST</em> be
conform to the corresponding consturct instead:

  <dl class=switch>

  <div>
    <dt>A text that <em class=rfc2119>SHOULD</em> be interpreted as
    plain text<!-- RSS2 -->
    <dd><p>A text.
  </div>

  <div>
    <dt>A char<!-- XSLT1 -->
    <dd><p>A <span>code point</code>
  </div>

  <div>
    <dt>A number<!-- RSS2, MediaRSS -->
    <dt>A number value<!-- iTunes -->
    <dt>A count<!-- MediaRSS -->
    <dt>A value in pixels<!-- RSS2 -->
    <dt>A value in bytes<!-- RSS2 -->
    <dt>A non-negative integer<!-- RSS2 -->
    <dt>A non-zero integer<!-- iTunes -->
    <dt>A kilobits per second rate<!-- MediaRSS -->
    <dt>A height<!-- MediaRSS -->
    <dt>A width<!-- MediaRSS -->
    <dd><p>A <span>valid non-negative integer</span>.
  </div>

  <div>
    <dt>An RFC 1766 language tag<!-- HTML4 referenced by RSS2 -->
    <dt>An RFC 3066 language tag<!-- Atom family, MediaRSS -->
    <dt>A BCP 47 language identifier<!-- XML 1.0 -->
    <dd><p>A <span>valid language tag</span>.
  </div>

  <div>
    <dt>A URL (without referencing the
    latest <a href="http://url.spec.whatwg.org/"><cite>URL
    Standard</cite></a>)<!-- RSS1, RSS2, MediaRSS, iTunes -->
    <dt>A url
    <dt>A URL with a scheme defined by the IANA Registry of URI
    Schemes<!-- RSS2 -->
    <dt>A URI
    <dt>A uri-reference<!-- XSLT1 -->
    <dt>An RFC 3986 URI reference<!-- XMLNS -->
    <dt>An IRI
    <dt>An IRI reference
    <!-- rdf:about, rdf:resource, link, url, hatena:imageurl,
    hatena:imageurlsmall, Atom family -->
    <dd><p>A <span>valid URL string</span>.

    <p>If IRI and IRI reference are distinguished and it is identified
    as an IRI, it <em class=rfc2119>MUST</em> also be
    an <span>absolute-URL-with-fragment string</span>.

    <p>To interpret a string, the rules to <span>parse a
    URL</span> <em class=rfc2119>MUST</em> be used with the <span>node
    document</span> of the <span>node</span> in which the string
    appears.

    <div class=note>

    <p>The <cite>XML Base</cite> specification and
    the <code>xml:base</code> <span>attribute</span> are
    obsolete.<!-- referenced by some Atom family element specification
    -->

    </div>
  </div>

  <div>
    <dt>A relative URI reference<!-- XMLNS -->
    <dd><p>A <span>valid URL string</span> that is
    a <span>relative-URL-with-fragment string</span>.
  </div>

  <div>
    <dt>A media type<!-- Atom family -->
    <dt>A MIME media type<!-- Atom family -->
    <dt>A standard MIME type<!-- RSS2, MediaRSS -->
    <dd><p>A <span>valid MIME type</span>.
  </div>

  <div>
    <dt>A media type (MIME content type); the <code>charset</code>
    parameter should not be specified explicitly<!-- XSLT1 -->
    <dd><p>A <span>valid MIME type</span> with no <code>charset</code>
    parameter.
  </div>

  <div>
    <dt>A charset registered with IANA or start
    with <code>X-</code><!-- XSLT1 -->
    <dd><p>A <span title="encoding label">label</span>
  </div>

  <div>
    <dt>An <code>addr-spec</code>
    <dt>An e-mail address
    <!-- Atom family -->
    <dt>An email address<!-- iTunes -->
    <dd><p>A <span>valid e-mail address</span>.
  </div>

  <div>
    <dt>An email address (in the <span>RSS2 specifications</span>)
    <dd><p>A string in the
    <a href=http://www.rssboard.org/rss-profile#data-types-email><em class=rfc2119>RECOMMENDED</em>
    format for e-mail addresses</a>.
  </div>

  <div>
    <dt>An id<!-- XSLT1 -->
    <dd><p>Same as the <code>id</code> <span>attribute</span> <span>in
    no namespace</span> of <span title="HTML element">HTML
    elements</span>
  </div>

  <div>
    <dt>HTML<!-- <media:title type=html> -->
    <dt>HTML markup<!-- content:encoded, hatena:formatted-content -->
    <dt>An HTML 4.01 markup that <em class=rfc2119>SHOULD</em> be such
    that it could validly appear directly within an
    HTML <code>div</code> element<!-- Atom type=html -->
    <dt>A text suitable for presentation as HTML<!-- RSS2 -->
    <dd><p>An <span>HTML fragment content</span>.
  </div>

  <!--
  <div>
    <dt>the Date and Time Specification of RFC 822, with the exception
    that the year may be expressed with two characters or four
    characters (four preferred)
    <dd><p>An <span>RSS 2.0 date</span>
  </div>

  <div>
    <dt>A W3C Date-Time string
    <dt>A W3CDTF
    <dd><p>As is.
    dc:date, Atom family
  </div>
  -->

  </dl>

<p>When an <span>element</span> has to be an <cite>XHTML Modularization</cite>
<code title>div</code> <span>element</span> that
<em class=rfc2119>SHOULD</em> be suitable for handling as XHTML,
it <em class=rfc2119>MUST</em> be
a <code>div</code> <span>element</span> in the <span>HTML
namespace</span><!-- and the requirements for it in
any <span>applicable specification</span> is applied-->.<!-- Atom
type=xhtml -->

<p>When an <span>element</span> has
<dfn>HTML fragment content</dfn>, setting its <span>child text
content</span> to <code>innerHTML</code> of a new
<code>div</code> <span>element</span> in the <span>HTML
namespace</span> <em class=rfc2119>MUST NOT</em> generate
a <span>parse error</span> or create a
non-conforming <span>tree</span>.
<!-- XXX this is broken. --><!-- note that scripting is enabled or not
affects the result -->

</section>

<section>
<h1>Validation of obsolete features</h1>

<p>Validators are expected to detect <span>obsolete</span> features
and show errors and alternative features, if known, to improve
authoring experiences.

<p>When a <span title="applicable specification">specification</span>
is identified as <dfn title="obsolete specification">obsolete</dfn>,
the features, including but not limited to
the <span title=element>elements</span>
and <span title=attribute>attributes</span>, defined by
the <span title="applicable
specification">specification</span> <em class=rfc2119>MUST NOT</em> be
used unless otherwise specified by another <span title="applicable
specification">specification</span>.  <span title="user agent">User
agents</span> <em class=rfc2119>MAY</em> ignore requirements in
the <span title="applicable specification">specification</span>.
The <span title=namespace>namespaces</span> defined by
an <span>obsolete specification</span> are <span title="obsolete
namespace">obsolete</span> unless otherwise specified by
another <span title="applicable specification">specification</span>.

<p>When a <span>namespace</span> is identified as <dfn title="obsolete
namespace">obsolete</dfn>, the <span title=element>elements</span>
and <span title=attribute>attributes</span> in
the <span>namespace</span>, as well
as <span title=attribute>attributes</span> <span>in no
namespace</span>, <em class=rfc2119>MUST NOT</em> be used unless
otherwise specified by another <span title="applicable
specification">specification</span>.

<p>The following <span title=namespace>namespaces</span>
are <span title="obsolete namespace">obsolete</span>:

<ul>
  <li><dfn><code>http://www.w3.org/TR/WD-xsl</code></dfn>
  <li><dfn><code>http://www.w3.org/1999/xlink</code></dfn>
  <li><dfn><code>http://www.w3.org/2001/xml-events</code></dfn>
  <li><dfn><code>http://www.w3.org/2002/06/xhtml2</code></dfn>
  <li><dfn><code>http://www.w3.org/2002/06/xhtml2/</code></dfn>
  <li><dfn><code>http://www.w3.org/2005/07/aaa</code></dfn>
</ul>

  <div class=note>

  <p>Though <span title="obsolete namespace">obsolete</span>,
  some <span title=attribute>attributes</span> in
  the <code>http://www.w3.org/1999/xlink</code> <span>namespace</span>
  are allowed to be specified for <span title="SVG element">SVG
  elements</span>.

  </div>

  <div class=note>

  <p>These were once implemented by some Web user agents or used on
  the Web but no longer considered as part of the Web platform.  Use
  of them could be authoring errors.

  </div>

</section>

<section>
<h1>Unfamiliar features</h1>

<p>There are many protocol or language features that are extensible.
A <span>user agent</span> might or might not know how
to <span>validate</span> a feature's instance.  Therefore, the answer
to a question "Is this instance conforming?" can
be <i>yes</i>, <i>no</i>, or <i>unfamiliar</i>.

<p>When a <span>user agent</span> is <dfn title="unfamiliar
feature">unfamiliar</dfn> to a feature, it <em class=rfc2119>MUST</em>
report the <span title=validate>validation</span> result
as <i>unfamiliar</i>.

<hr>

<p id=supported-namespace>A <span>user agent</span>
either <span title="full support">fully
supports</span>, <span title="partial support">partially
supports</span>, or <span title="no support">does not support</span>
a <span>non-<code>null</code> namespace</span>.

<p>A <span>non-<code>null</code> namespace</span> is <dfn title="full
support">fully supported</dfn> if all of
its <span title=element>elements</span>
and <span title=attribute>attributes</span> are defined
by <span title="applicable specification">applicable
specifications</span> and all of them are somewhat implemented.

<div class=note>

<p>The <cite>HTML Standard</cite> defines that
"<span title=author>Authors</span> <em class=rfc2119>MUST NOT</em>
use <span title=element>elements</span>, <span title=attribute>attributes</span>,
or <span title="attribute value">attribute values</span> that are not
permitted by this specification or other <span title="applicable
specification">applicable specifications</span>".  Use
of <span title=element>elements</span>
or <span title=attribute>attributes</span> in a <span title="full
support">fully supported</span> <span>namespace</span> is <em>not</em>
allowed unless they are specified in <span title="applicable
specification">applicable specifications</span>.

</div>

<p>A <span>non-<code>null</code> namespace</span>
is <dfn title="partial support">partially supported</dfn> if
its <span title=element>elements</span>
and <span title=attribute>attributes</span> are defined
by <span title="applicable specification">applicable
specifications</span> and some of them are implemented.

<p>A <span>non-<code>null</code> namespace</span> is <dfn title="no
support">not supported</dfn> if
its <span title=element>elements</span>
and <span title=attribute>attributes</span> are not implemented.
A <span>user agent</span> that implements <span>RSS1</span> but does
not implement <span>RDF/XML</span> other than as part
of <span>RSS1</span> support does support the <span>RSS
namespace</span> <span title="full support">fully</span>
or <span title="partial support">partially</span>, but
it <span title="no support">does <em>not</em> support</span>
the <span>RDF namespace</span>.

  <div class=note>

  <p>Whether a <span>namespace</span> is <span title="full
  support">fully supported</span>, <span title="partial
  support">partially supported</span>, or <span title="no support">not
  supported</span>, are orthogonal to
  its <span title=element>elements</span>
  and <span title=attribute>attributes</span> are <span title="unknown
  feature">unknown</span> or not.  A <span>user agent</span> might not
  support the <span title=validate>validation</span> of
  an <span>attribute value</span> of a <span title="full
  support">fully supported</span> <span>namespace</span>.

  </div>

<hr id=unknown-namespace>

<p><dfn title="unknown element">Unknown elements</dfn> are
following <span title=element>elements</span>:

  <ul>

  <li><span title=element>Elements</span> in <span title="no
  support">unsupported</span> <span title=namespace>namespaces</span>

  <li><span title=element>Elements</span> in <span title="partial
  support">partially
  supported</span> <span title=namespace>namespaces</span> <em>not</em>
  implemented by the <span>user agent</span>

  <li><span title="unknown RDF element">Unknown RDF elements</span>

  <li><span title=element>Elements</span> <span>in no namespace</span>
  except for <span title="RSS2 element">RSS2 elements</span>

  </ul>

<p><dfn title="unknown attribute">Unknown attributes</dfn> are
following <span title=attribute>attributes</span>:

  <ul>

  <li><span title=attribute>Attributes</span> in <span title="no
  support">unsupported</span> <span title=namespace>namespaces</span>

  <li><span title=attribute>Attributes</span> in <span title="partial
  support">partially
  supported</span> <span title=namespace>namespaces</span> <em>not</em>
  implemented by the <span>user agent</span>

  <li><span title="unknown RDF attribute">Unknown RDF
  attributes</span>

  <!-- attributes in no namespace is not unknown attributes -->

  </ul>

<p><span title="unknown element">Unknown
elements</span>, <span title=attribute>attributes</span> <span>in no
namespace</span> of <span title="unknown element">unknown
elements</span>, other than <span title="superglobal
attribute">superglobal attributes</span>, and <span title="unknown
attribute">unknown attributes</span> are <span title="unfamiliar
feature">unfamiliar features</span>.

<hr>

<p>An <span>unknown element</span> or <span>unknown
attribute</span> <em class=rfc2119>MUST NOT</em> be used anywhere
except where they are explicitly allowed.<!-- Somewhat redundant with
HTML Standard but still worth clarifying. -->

<p>An <span>unknown element</span> <em class=rfc2119>MAY</em> be used
as the <span>document element</span> or as an orphan node.
It <em class=rfc2119>MAY</em> also be used where any kind
of <span>element</span> is allowed.<!-- including but not limited to
DocumentFragment/ShadowRoot children. -->

<p>An <span>unknown element</span> <em class=rfc2119>MAY</em> have
any <span>attribute</span> <span>in no namespace</span> or
any <span>unknown attribute</span>.

<div class=note>

<p>In addition, any <span>attribute</span> allowed by
an <span>applicable specification</span> is allowed to be specified
for an <span>unknown element</span>.

</div>

<p>An <span>unknown element</span> <em class=rfc2119>MAY</em> have any
kind of <span>child</span>.

<p>An <span>unknown attribute</span> <em class=rfc2119>MAY</em> have
any value.  An <span>attribute</span> <span>in no namespace</span> of
an <span>unknown element</span> <em class=rfc2119>MAY</em> have any
value.

<div class=note>

<p><span title=validator>Validators</span> are expected to report
errors or warnings on unknown elements and attributes useful for
authors.

<p>This specification is not intended to override any other
specification's requirements.

<p>For a public Web document, non-standard element which is not
defined by any <span>applicable specification</span> ought to be
reported as an error.

<div class=example>

<p>In the following example, as the <code>bookmark</code> element in
the <code>http://mybookmark.example/</code> namespace is not defined
<!--as <span>flow content</span>--> by any <span>applicable
specification</span>, this fragment is non-conforming:

<pre class=XML><code>&lt;div xmlns="http://www.w3.org/1999/xhtml">
  &lt;bookmark xmlns="http://mybookmark.example/">Hello&lt;/bookmark>
&lt;/div></code></pre>

</div>

<p>For XML data that is not expected to be directly shown to user
(e.g. an XML data retrieved via <code>XMLHttpRequest</code>), use of
null- or non-standard namespaces ought not to be an error.

<div class=example>

<p>For example, following document fragment should not be considered
as non-conforming, nevertheless none of <code>data</code> and
<code>item</code> elements and the <code>name</code> attribute is
defined by any public standard:

<pre class=XML><code>&lt;data>
  &lt;item name="x1"/>
  &lt;item name="x2">&lt;p xmlns="http://www.w3.org/1999/xhtml">Hi!&lt;/p>&lt;/item>
&lt;/data></code></pre>

<p>If the <code>p</code> element contained an <code>item</code>
element <span>in no namespace</span>, it ought to be reported as an
error, as no standard defines the <code>item</code> element in no
namespace as
<span>phrasing content</span>.

</div>

<div class=example>

<p>If there is an <span>element</span> in the
<code>http://www.w3.org/2000/svg<mark>/</mark></code> <span>namespace</span>,
an error or warning ought to be reported.  It is likely an authoring
error.

</div>

</div>

<hr>

<p><dfn title="unknown processing instruction">Unknown processing
instructions</dfn> are <span title="processing instruction">processing
instructions</span> whose <span>target</span> does not begin
with <code>xml-</code> (<span>ASCII
case-insensitive</span>).  <span title="unknown processing
instruction">Unknown processing instructions</span>
are <span title="unfamiliar feature">unfamiliar features</span>.

  <div class=note>

  <p><span title="processing instruction">Processing
  instructions</span> whose <span>target</span> begins
  with <code>xml-</code> are <a href=#reserved>reserved</a>.

  </div>

</section>

<section>
<h1>Limited use features</h1>

<p>Several features are intended for <dfn>limited use</dfn>, i.e. not
expected to be implemented universally.  Such features still have
legitimated usages, e.g. used internally during preparation of public
documents, used as data formats of particular applications, served as
data to be processed by public applications, and so on.  Use
of <span>limited use</span> features are <em>not</em> invalid.
However, use of such features in public context could be problematic.
At user option, <span title="user agent">user
agents</span> <em class=rfc2119>MAY</em> report an error when an
instance of <span>limited use</span> feature is detected.

  <div class=example>

  <p>An unprocessed internal vocabulary might be erroneously exposed
  within a public document when the authoring pipeline is partially
  broken.  A <span>validator</span> with the option enabled can detect
  this problem.

  </div>

<p>Following features are intended for <span>limited use</span>:

  <ul>

  <li><span title="unknown element">Unknown
  elements</span><!-- "unknown namespace element" and "unknown RDF
  element" -->

  <li><span title="unknown attribute">Unknown
  attribute</span><!-- "unknown attribute" -->

  <li><span title="RDF/XML RDF element">RDF/XML RDF elements</span>

  <li><span title="RDF/XML RDF attribute">RDF/XML RDF atributes</span>

  <li><span title=element>Elements</span>
  <code>title</code>, <code>description</code>, <code>publisher</code>,
  <code>contributor</code>, <code>type</code>, <code>format</code>,
  <code>identifier</code>, <code>source</code>, <code>language</code>,
  <code>coverage</code>, or <code>rights</code> in the <span>Dublin
  Core namespace</span><!-- except dc:creator, dc:subject, dc:title
  -->

  <li><span title="RSS2 element">RSS2 elements</span>
  whose <span>local name</span>
  is <code>rating</code>, <code>skipDays</code>, <code>day</code>,
  <code>skipHours</code>, <code>hour</code>, <code>textInput</code>,
  or <code>ttl</code>

  <li><span title=element>Elements</span>
  and <span title=attribute>attributes</span> in
  the <span title=namespace>namespaces</span>
  <code>http://www.w3.org/2000/09/xmldsig#</code>,
  <code>http://purl.org/rss/1.0/modules/slash/</code>,
  <span>Atom Threading namespace</span>,
  <code>http://purl.org/syndication/history/1.0</code>,
  <code>http://purl.org/atompub/tombstones/1.0</code>,
  <code>http://www.w3.org/2007/app</code>,
  <code>http://schemas.google.com/g/2005</code>, and
  <code>http://www.hatena.ne.jp/info/xmlns#</code>

  <li><span title="XSLT element">XSLT elements</span>

  <li><span title="MIME type">MIME types</span> registered with IANA
  whose registration states that its <i>intended usage</i>
  is <i>limited use</i>

  <!-- XXX and non-standard (define non-standard!) MIME types, URL
  schemes, HTTP headers, meta pragma names -->

  <li><span title="private-use subtag">Private-use subtags</span>

  <li><span title="language tag">Language
  tag</span> <code>i-default</code>

  <li>Private use language codes, country codes, and script
  codes<!-- currency codes -->

  <li>Private use <span title="code point">code points</span>

  <!-- XXX domain names that are internal names -->

  <!-- XXX private use IP addresses -->

  <li>Other features identified by the <span>user agent</span>

    <div class=example>

    <p>If a <span>user agent</span> supports WebDAV,
    the <span title=element>elements</span> in
    the <span title=namespace>namespaces</span> defined by the
    WebDAV <span title="applicable
    specification">specifications</span> would be marked
    as <span>limited use</span>, as they are not supported by
    general-purpose Web user agents and are not suitable for public
    Web documents.

    </div>

  </ul>

  <!-- Not "limited use":

    class=""
    data-*
    custom elements
    custom element attributes
    embed attributes
    param names
    script data

  -->

</section>

</section>

<section>
<h1>Validation of superglobal attributes</h1>

<p>Unless otherwise
specified, <span title=attribute>attributes</span> <code>class</code>, <code>id</code>,
and <code>slot</code> <span>in no
namespace</span> <em class=rfc2119>MUST</em> conform to the
requirements for the <span>attribute</span> with
same <span title="local name">name</span> for an <span>HTML
element</span>.

  <div class=note>

  <p>This does not mean use of them are conforming.

  </div>

<section>
<h1>Validation of XML attributes</h1>

<p><span title="user agent">User
agents</span> <em class=rfc2119>MUST</em> implement the <span>XML
specification</span> and the <span>XML Namespaces
specification</span>.  The <dfn>XML specification</dfn> is
<a href=https://www.w3.org/TR/xml/><cite>Extensible Markup Language
(XML) 1.0</cite></a> and
<a href=https://www.w3.org/XML/xml-V10-5e-errata><cite>Errata in
REC-xml-20081126</cite></a>.  The <dfn><code>xml:lang</code></dfn>
and <dfn><code>xml:space</code></dfn> <span title=attribute>attributes</span>
are defined by the <span>XML specification</span>.  The <dfn>XML
Namespaces specification</dfn> is
<a href=https://www.w3.org/TR/xml-names/><cite>Namespaces in XML
1.0</cite></a> and
<a href=https://www.w3.org/XML/2009/xml-names-errata><cite>Namespaces
in XML 1.0 (Third Edition) Errata</cite></a>.

  <div class=note>

  <p>Since <span title="user agent">user agents</span>
  interpret <code>xml:lang</code>
  and <code>xml:space</code> <span title=attribute>attributes</span>
  defined by the <span>XML specification</span> according to
  the <span>XML Namespaces specification</span>, they are considered
  as <code title=xml:lang>lang</code>
  and <code title=xml:space>space</code> <span title=attribute>attributes</span>
  in the <span>XML namespace</span>, not <code title>xml:lang</code>
  and <code title>xml:space</code> <span title=attribute>attributes</span> <span>in
  no namespace</span>.

  </div>

<p>Specifications <a href=https://www.w3.org/TR/xmlbase/><cite>XML
Base</cite></a> and
<a href=https://www.w3.org/TR/xml-id/><cite>xml:id</cite></a>
are <span title="obsolete specification">obsolete</span>.

  <div class=note>

  <p>Therefore use of <dfn><code>xml:base</code></dfn>
  and <dfn><code>xml:id</code></dfn> <span title=attribute>attributes</span>
  are non-conforming.

  </div>

<p>For the purpose of <span title=validate>validation</span> of
the <code>base</code> <span>element</span> in the <span>HTML
namespace</span>, the <span title=attribute>attributes</span> in
the <span>XMLNS namespace</span> are not considered as taking URLs.

  <div class=note>

  <p>Base URLs are not applied to them.

  </div>

<p><span title=element>Element</span>
and <span title=attribute>attributes</span> whose <span>prefix</span>
or <span>local name</span> begins with <code>xml</code> (<span>ASCII
case-insensitive</span>) <em class=rfc2119>MUST NOT</em> be considered
as reserved as required by the <span>XML Namespaces
specification</span>.

  <div class=note>

  <p>This is a <span>willful violation</span> to the <span>XML
  Namespaces specification</span> for consistency with the <span>XML
  specification</span>.

  </div>

</section>

</section>

<section>
<h1>Validation of feed namespaces</h1>

<p>If an <span>element</span> is <dfn>unique property element</dfn>
and the <span>element</span>'s <span>parent</span> is
not <code>null</code>,
the <span>element</span>'s <span>parent</span> <em class=rfc2119>MUST
NOT</em> have another <span>child</span> <span>element</span> with
same <span>namespace</span> and <span>local name</span>.

<section>
<h1>RSS1 elements</h1>

<p><span title="user agent">User
agents</span> <em class=rfc2119>MUST</em> implement the <span>RSS1
specification</span>.  The <dfn>RSS1 specification</dfn> is
<a href=http://web.resource.org/rss/1.0/spec><cite>RDF Site Summary
(RSS) 1.0</cite></a>.  The <dfn>RDF namespace</dfn>
is <code>http://www.w3.org/1999/02/22-rdf-syntax-ns#</code>.
The <dfn>RSS namespace</dfn> is <code>http://purl.org/rss/1.0/</code>.
The <dfn>Dublin Core namespace</dfn> is
<a href=http://web.resource.org/rss/1.0/modules/dc/><!-- which
references http://dublincore.org/documents/dces/
--><code>http://purl.org/dc/elements/1.1/</code></a>.

<p><span title="user agent">User
agents</span> <em class=rfc2119>MUST</em> implement the <span>RSS1
content specification</span>.  The <dfn>RSS1 content
specification</dfn> is
<a href=http://web.resource.org/rss/1.0/modules/content/><cite>RDF
Site Summary 1.0 Modules: Content</cite></a>.  The <dfn>RSS content
namespace</dfn>
is <code>http://purl.org/rss/1.0/modules/content/</code>.
The <span>RSS1 content specification</span> is <span title="obsolete
specification">obsolete</span> except for
the <dfn title=content:encoded><code>encoded</code></dfn> <span>element</span>
in the <span>RSS content namespace</span>.

<div class=note>

<p>The <code title=content:encoded>encoded</code> <span>element</span>
in the <span>RSS content namespace</span>, which is only shown as a
"draft" in the <span title="RSS1 content
specification">specification</span>, is <i>de facto</i> part
of <span>RSS1</span>, while other
"formal" <span title=element>elements</span> in that <span title="RSS1
content specification">specification</span> has not been used at all.

</div>

<hr>

<p>An <span>element</span> or <span>attribute</span> in the <span>RDF
namespace</span> is either <dfn>RSS1 RDF element</dfn>
or <dfn title="RSS1 RDF attribute">attribute</dfn> or <dfn>RDF/XML RDF
element</dfn> or <dfn title="RDF/XML RDF attribute">attribute</dfn>.
An <span>RSS1 RDF element</span> or <span title="RSS1 RDF
attribute">attribute</span> <em class=rfc2119>MUST</em>
be <span title=validate>validated</span> against the requirements
for <span>RSS1</span>.  An <span>RDF/XML RDF element</span>
or <span title="RDF/XML RDF
attribute">attribute</span> <em class=rfc2119>MUST</em>
be <span title=validate>validated</span> against the requirements
for <span>RDF/XML</span>.  If the <span>user agent</span> does not
support <span>RDF/XML</span>, <span title="RDF/XML RDF
element">RDF/XML RDF elements</span> and <span title="RDF/XML RDF
attribute">attributes</span> are <dfn title="unknown RDF
element">unknown RDF elements</dfn> and <dfn title="unknown RDF
attribute">attributes</dfn>.

<p>An <span>element</span> is an <dfn>RSS 1.0 <code>rdf:RDF</code>
element</dfn> if:

  <ul>

  <li>Its <span>namespace</span> is the <span>RDF namespace</span>,

  <li>Its <span>local name</span> is <code>RDF</code>,

  and

  <li>Either:

    <ul>

    <li>Its <span>parent</span> is a <span>document</span> whose
    <span>content type</span> is <code>application/rss+xml</code>, or

    <li>Its <span>prefix</span> is <code>rdf</code>, it has
    an <code>xmlns</code> <span>attribute</span> in the <span>XMLNS
    namespace</span> whose <span title="attribute value">value</span>
    is the <span>RSS namespace</span>, and it has
    an <code>rdf</code> <span>attribute</span> in the <span>XMLNS
    namespace</span><!-- xmlns:rdf --> whose <span title="attribute
    value">value</span> is the <span>RDF namespace</span>.

    </ul>

  </ul>

  <div class=note>

  <p>At user option, <span title="user agent">user agents</span>
  can <span>validate</span> a <span>document</span> as an <span>RSS1
  document</span> (ignoring its original context) by overriding
  its <span>content type</span> to <code>application/rss+xml</code>.

  </div>

<p>If an <code>RDF</code> <span>element</span> in the 
<span>RDF namespace</span> is an <span>RSS 1.0 <code>rdf:RDF</code>
element</span>, it is an <span>RSS1 RDF element</span>.

<p>If a <code>Seq</code> <span>element</span> in the <span>RDF
namespace</span> is a <span>child</span> of
an <code>items</code> <span>element</span> in the <span>RSS
namespace</span>, it is an <span>RSS1 RDF element</span>.

<p>If an <code>li</code> <span>element</span> in the <span>RDF
namespace</span> is a <span>child</span> of
a <code>Seq</code> <span>element</span> in the <span>RDF
namespace</span> that is an <span>RSS1 RDF element</span>, it is
an <span>RSS1 RDF element</span>.

<p>If an <code>about</code>
or <code>resource</code> <span>attribute</span> in the <span>RSS
namespace</span> is specified for an <span>RSS1 RDF element</span>, it
is an <span>RSS1 RDF attribute</span>.  A <span>user agent</span> that
does not support <span>RDF/XML</span> <em class=rfc2119>MAY</em> treat
other <code>about</code>
and <code>resource</code> <span title=attribute>attributes</span> in
the <span>RSS namespace</span> as <span title="RSS1 RDF
attribute">RSS1 RDF attributes</span>.

<p>All other <span title=element>elements</span>
and <span title=attribute>attributes</span> in the <span>RDF
namespace</span> are <span title="RDF/XML RDF element">RDF/XML RDF
elements</span> and <span title="RDF/XML RDF
attribute">attributes</span>.

<div class=note>

<p>Though the <span>RSS1 specification</span> references
the <span>RDF/XML specification</span>, a <span>user agent</span> can
implement the <span title=validate>validation</span> by just
implementing the requirements in the <span>RSS1 specification</span>
and this specification, ignoring the <span>RDF/XML
specification</span>.

</div>

<hr>

<p>A <code>channel</code> or <code>item</code> <span>element</span> in
the <span>RSS namespace</span> <em class=rfc2119>MAY</em>
have <span title=child>child</span> <span title="unknown
element">unknown elements</span> as long as all of the following
conditions are met:

  <ul>

  <li>Its <span>namespace</span> is a <span>non-<code>null</code>
  namespace</span>.<!-- namespace-based extensions are allowed by RSS
  1.0 specification -->

  <li>Its <span>namespace</span> is <em>not</em> the <span>RDF
  namespace</span>.<!-- to conform to RDF/XML specification -->

  <li>If its <span>prefix</span> is <code>null</code>, its <span>local
  name</span> does not start with <code>xml</code> (<span>ASCII
  case-insensitive</span>).<!-- to avoid to be ignored by RDF/XML
  processing -->

  <li>Its <span>prefix</span> does not start with <code>xml</code>
  (<span>ASCII case-insensitive</span>).<!-- to avoid to be ignored by
  RDF/XML processing -->

  </ul>

<p><span title=child>Children</span> <span title="unknown
element">unknown elements</span> of a <code>channel</code>
or <code>item</code> <span>element</span> in the <span>RSS
namespace</span> are <span title="unique property element">unique
property elements</span>.<!-- to conform RSS 1.0 extensibility rule
-->

<hr>

<p>A <code>description</code> <span>element</span> in the <span>RSS namespace</span> whose
<span>parent</span> is an <code>item</code> <span>element</span> in
the <span>RSS namespace</span> has an <span>HTML fragment
content</span>.<!-- de facto standard -->
An <code title=content:encoded>encoded</code> <span>element</span> in
the <span>RSS content namespace</span> has an <span>HTML fragment
content</span>.<!-- Not explicitly defined in ths spec -->

<p>A <code>channel</code> <span>element</span> in the <span>RSS
namespace</span> <em class=rfc2119>MAY</em>
have <span title=child>children</span> <code>link</code> <span title=element>elements</span>
in the <span>Atom namespace</span>.<!-- no spec but sometimes used in
the wild -->

</section>

<section>
<h1>RSS2 elements</h1>

<p><span title="user agent">User agents</span>
<em class=rfc2119>MUST</em> implement the <span>RSS2
specifications</span>.  The <dfn>RSS2 specifications</dfn>
are <a href="http://www.rssboard.org/rss-specification"><cite>RSS
2.0</cite></a>
and <a href="http://www.rssboard.org/rss-profile"><cite>Really Simple
Syndication Best Practices Profile</cite></a>.

<p>A <span>document</span> is an <dfn>RSS2 document</dfn> if
its <span>document element</span> is
an <code>rss</code> <span>element</span> <span>in no namespace</span>.

<div class=note>

<p>RSS 0.91, 0.92, 0.93, and 0.94 documents are <span title="RSS2
document">RSS2 documents</span>.

</div>

<p>An <span>element</span> is an <dfn>RSS2 element</dfn> if it
is <span>in no namespace</span> and its <span>node document</span> is
an <span>RSS2 document</span>.  An <dfn>RSS2 <code>channel</code>
element</dfn> is an <span>RSS2 element</span> whose <span>local
name</span> is <code>channel</code>.  An <dfn>RSS2 <code>item</code>
element</dfn> is an <span>RSS2 element</span> whose <span>local
name</span> is <code>item</code>.  <span title="RSS2 element">RSS2
elements</span> <em class=rfc2119>MUST</em>
be <span title=validate>validated</span> against the requirements
for <span>RSS2</span>.

<hr>

<p>An <span>RSS2 <code>item</code>
element</span> <em class=rfc2119>MAY</em> have at most
one <span>child</span> <code>updated</code> <span>element</span> in
the <span>Atom namespace</span>.

<p>These are <span title="unique property element">unique property
elements</span>:

  <ul>

  <li><span title=child>Children</span> <code>creator</code> <span title=element>elements</span>
  in the <span>Dublin Core namespace</span> of
  an <span>RSS2 <code>channel</code> element</span> or
  an <span>RSS2 <code>item</code> element</span>.

  <li><span title=child>Children</span> <code title=content:encoded>encoded</code> <span title=element>elements</span>
  in the <span>RSS content namespace</span> of
  an <span>RSS2 <code>item</code> element</span>.

  <li><span title=child>Children</span> <code>comments</code> <span title=element>elements</span>
  in
  the <span>namespace</span> <code>http://purl.org/rss/1.0/modules/slash/</code>
  of an <span>RSS2 <code>item</code> element</span>.

  </ul>

<p>An <span>RSS2 <code>item</code> element</span> or
an <span>RSS2 <code>channel</code>
element</span> <em class=rfc2119>MAY</em>
have <span title=child>children</span> <span title="unknown
element">unknown elements</span>.

<section>
<h1>Media RSS elements</h1>

<p class=section-info><em>This section applies to <span title="user
agent">user agents</span> implementing <span>Media RSS</span>.</em>

<p>The <dfn>Media RSS namespace</dfn> is
<a href=http://www.rssboard.org/media-rss><code>http://search.yahoo.com/mrss/</code>
or <code>http://search.yahoo.com/mrss</code></a>.  These are synonyms.
The latter <span>namespace</span> is <span title="obsolete
namespace">obsolete</span>.

<div class=note>

<p>The namespace URL without slash has been used for historical
reason.  It is
<a href=http://www.rssboard.org/media-rss#namespace-declaration>non-conforming</a>.

</div>

<p>These are <span title="unique property element">unique property
elements</span>:

  <ul>

  <li><span title=child>Children</span> <code>starRating</code> <span title=element>elements</span>
  in the <span>Media RSS namespace</span> of
  a <code>community</code> <span>element</span> in the <span>Media RSS
  namespace</span>.

  <li><span title=child>Children</span> <code>statistics</code> <span title=element>elements</span>
  in the <span>Media RSS namespace</span> of
  a <code>community</code> <span>element</span> in the <span>Media RSS
  namespace</span>.

  <li><span title=child>Children</span> <code>tags</code> <span title=element>elements</span>
  in the <span>Media RSS namespace</span> of
  a <code>community</code> <span>element</span> in the <span>Media RSS
  namespace</span>.

  </ul>

<p>The <code>average</code> <span>attribute value</span> of
a <code>starRating</code> <span>element</span> in the <span>Media RSS
namespace</span> <em class=rfc2119>MUST</em> be a <span>valid
floating-point number</span>.

<p>The <code>max</code> <span>attribute value</span> of
a <code>starRating</code> <span>element</span> in the <span>Media RSS
namespace</span> <em class=rfc2119>MUST</em> be a <span>valid
non-negative integer</span>.

<p>The <code>min</code> <span>attribute value</span> of
a <code>starRating</code> <span>element</span> in the <span>Media RSS
namespace</span> <em class=rfc2119>MUST</em> be a <span>valid
non-negative integer</span>.

</section>

<section>
<h1>iTunes elements</h1>

<p class=section-info><em>This section applies to <span title="user
agent">user agents</span> implementing <span>Podcast</span>.</em>

<p>The <dfn>iTunes namespace</dfn> is
<a href=https://help.apple.com/itc/podcasts_connect/#/itcb54353390><code>http://www.itunes.com/dtds/podcast-1.0.dtd</code></a>
or <code>http://www.itunes.com/DTDs/Podcast-1.0.dtd</code>.  These are
synonyms.  The latter <span>namespace</span> is <span title="obsolete
namespace">obsolete</span>.



<p><span title=child>Children</span> <span title=element>elements</span>
in the <span>iTunes namespace</span> of
an <span>RSS2 <code>channel</code> element</span> or
an <span>RSS2 <code>item</code> element</span> are <span title="unique
property element">unique property elements</span>.

<p>The <span>content model</content> of
the <code>image</code> <span>element</span> in the <span>iTunes
namespace</span> is <span>nothing</span>.

</section>

</section>

<section>
<h1>Atom elements</h1>

<p><span title="user agent">User agents</span>
<em class=rfc2119>MUST</em> implement the <span>Atom
specification</span>.  The <dfn>Atom specification</dfn> is 
<a href="https://tools.ietf.org/html/rfc4287">RFC 4287</a>.

<p>Atom and its extension specifications allow extensions such that
almost everything is allowed, which is not useful
for <span title=validator>validators</span>.  This specification
defines stricter restrictions for the purpose
of <span title=validate>validation</span>.

<p>The <dfn>Atom namespace</dfn>
is <code>http://www.w3.org/2005/Atom</code>.

The <dfn>Atom 0.3 namespace</dfn>
is <a href="https://github.com/mnot/I-D/blob/gh-pages/Published/atom-format/draft-nottingham-atom-format-02.xml"><code>http://purl.org/atom/ns#</code></a>.

The <dfn>Atom Threading namespace</dfn>
is <a href="https://tools.ietf.org/html/rfc4685"><code>http://purl.org/syndication/thread/1.0</code></a>.

The <dfn>Atom Feed Paging and Archiving namespace</dfn> is
<a href="https://tools.ietf.org/html/rfc5005"><code>http://purl.org/syndication/history/1.0</code></a>.

<dfn>Atom family namespaces</dfn> are the <span>Atom 0.3
namespace</span>, the <span>Atom namespace</span>, the <span>Atom
Threading namespace</span>, the <span>Atom Feed Paging and Archiving
namespace</span>,
<a href="https://tools.ietf.org/html/rfc5023"><code>http://www.w3.org/2007/app</code></a>,
and
<a href="https://tools.ietf.org/html/rfc6721"><code>http://purl.org/atompub/tombstones/1.0</code></a>.
An <dfn>Atom family element</dfn> is an <span>element</span> in one
of <span>Atom family namespaces</span>.<!-- data/elements.json -->

<p>The terms
<dfn>Date construct</dfn>
and
<dfn>Person construct</dfn>
are defined by <a href="https://tools.ietf.org/html/rfc4287">Atom 1.0
specification</a>.

<hr>

<p><span title=element>Elements</span>
and <span title=attribute>attributes</span> <em class=rfc2119>MUST</em>
conform to the constraints expressed in the RELAX NG schema fragments
in the <span title="applicable specification">applicable
specifications</span>.<!-- They are non-normative per the spec -->

<p>For an <span>Atom family element</span>, an <span>attribute</span>
or <span>child</span> that is not explicitly allowed by
an <span>applicable specification</span> <em class=rfc2119>MUST
NOT</em> be used.<!-- RELAX NG allows everything -->

<p><dfn title="Atom extensible element">Atom extensible elements</dfn>
are
following <span title=element>elements</span><!-- data/elements.json
-->:

  <ul>

  <li><span title="Atom family element">Atom family elements</span>
  which allow <span title="extension element">extension
  elements</span>, <code>extensionElement</code>,
  or <code>extensionSansTitleElement</code> in <span>content</span>

  <li><code>deleted-entry</code> <span title=element>elements</span>
  in <span>namespace</span> <code>http://purl.org/atompub/tombstones/1.0</code>

  <li><code>feed</code> <span title=element>elements</span> in
  the <span>Atom 0.3 namespace</span>

  <li><code>entry</code> <span title=element>elements</span> in
  the <span>Atom 0.3 namespace</span>

  </ul>

<p>An <span>Atom extensible element</span> <em class=rfc2119>MAY</em>
have <span title=child>children</span> <span title="unknown
element">unknown elements</span>.


<p>These are <span title="unique property element">unique property
elements</span>:

  <ul>

  <li><span title=child>Children</span> <code>complete</code> <span title=element>elements</span>
  in the <span>Atom Feed Paging and Archiving namespace</span> of
  a <code>feed</code> <span>element</span> in the <span>Atom
  namespace</span>.

  <li><span title=child>Children</span> <code>archive</code> <span title=element>elements</span>
  in the <span>Atom Feed Paging and Archiving namespace</span> of
  a <code>feed</code> <span>element</span> in the <span>Atom
  namespace</span>.

  </ul>


<p>A <code>content</code> <span>element</span> in the <span>Atom 0.3
namespace</span> with a <code>type</code> <span>attribute</span>
whose <span title="attribute value">value</span>
is <code>text/html</code> (<span>ASCII case-insensitive</span>) has
an <span>HTML fragment content</span>.<!-- Not explicitly defined in
ths spec -->


<p class=XXX>need to define &lt;atom:content> content validation when
type is a MIME type

<hr>

<p>An <code>entry</code> <span>element</span> in the <span>Atom
namespace</span> <em class=rfc2119>MAY</em>
have <span title=child>children</span> <code>group</code>
and <code>thumbnail</code> <span title=element>elements</span> in
the <span>Media RSS namespace</span>.<!-- no spec but sometimes used
in the wild -->

<!--
dc:subject is redundant with atom:category
<p>The <code>subject</code> <span>element</span> in the <span>Dublin
Core namespace</span> <em class=rfc2119>MAY</em> be inserted as
a <span>child</span> of an <code>entry</code> <span>element</span> in
the <span>Atom namespace</span>.< !-- no spec but sometimes used in the
wild -->

<p><span title=element>Elements</span> in the <span>Atom 0.3
namespace</span> <em class=rfc2119>MUST NOT</em> be used.

  <div class=note>

  <p>Atom 0.3 is obsolete.

  </div>

<section>
<h1>GData elements</h1>

<p class=section-info><em>This section applies to <span title="user
agent">user agents</span>
implementing <span>GData</span> <code>image</code> <span>element</span>
if there is no other <span title="applicable
specification">specification</span> specifying it.</em><!-- The GData
documentation does not have this element but is actually used in feeds
and is supported by the Feed Parsing specification. -->

<p>The <dfn>GData namespace</dfn>
is <code>http://schemas.google.com/g/2005</code>.

<p>A <span>Person construct</span> <em class=rfc2119>MAY</em> have at
most one <span>child</span> <code>image</code> <span>element</span> in
the <span>GData namespace</span>.

<p>The <code>image</code> <span>element</span> in the <span>GData
namespace</span> <em class=rfc2119>MUST</em> have
a <code>rel</code> <span>attribute</span> whose <span title="attribute
value">value</span>
is <code>http://schemas.google.com/g/2005#thumbnail</code>.

<p>The <code>image</code> <span>element</span> in the <span>GData
namespace</span> <em class=rfc2119>MAY</em> have
a <code>width</code> <span>attribute</span>
whose <span title="attribute value">value</span> is a <span>valid
non-negative integer</span>.

<p>The <code>image</code> <span>element</span> in the <span>GData
namespace</span> <em class=rfc2119>MAY</em> have
a <code>height</code> <span>attribute</span>
whose <span title="attribute value">value</span> is a <span>valid
non-negative integer</span>.

<p>The <code>image</code> <span>element</span> in the <span>GData
namespace</span> <em class=rfc2119>MUST</em> have
a <code>src</code> <span>attribute</span> whose <span title="attribute
value">value</span> is a <span>valid URL string</span>.

<p>The <span>content model</span> of
the <code>image</code> <span>element</span> in the <span>GData
namespace</span> is <span>nothing</span>.

</section>

</section>

</section>

<section>
<h1>Validation of OGP</h1>

<p>A <code>meta</code> <span>element</span> in the <span>HTML
namespace</span> <em class=rfc2119>MAY</em> have
a <dfn title=attr-meta-property><code>property</code></dfn> <span>attribute</span>.
If the attribute is specified, the element <em class=rfc2119>MUST
NOT</em> have a <code title=attr-meta-name>name</code> attribute or an
attribute that cannot be used when
a <code title=attr-meta-name>name</code> attribute is specified.
The <code title=attr-meta-content>content</code>
attribute <em class=rfc2119>MUST</em> be specified if
a <code title=attr-meta-property>property</code> attribute is
specified.  An HTML <code>meta</code> element
with <code title=attr-meta-property>property</code> attribute
is <span>metadata content</span> (it is not a <span>phrasing
content</span>).

<p>The value of a <code title=attr-meta-property>property</code>
attribute <em class=rfc2119>MUST</em> be an <span>OGP property
name</span>.  A <dfn>OGP property name</dfn> is a <code
title=attr-meta-property>property</code> value defined by an
<span>applicable specification</span> or a <span>prefixed property
value</span>.  A <dfn>prefixed property value</dfn> is a
<span>property prefix</span> followed by
a <code>U+003A</code> <code class=charname>COLON</code> character
(<code>:</code>) followed by one or more characters.  A <dfn>property
prefix</dfn> is a string of one or more characters that is not
a <code>U+003A</code> <code class=charname>COLON</code> character
(<code>:</code>) and is not used
by <code title=attr-meta-property>property</code> value defined by
an <span>applicable specification</span> as prefix.  <!-- (redundant)
A <i>deprecated</i>
<code title=attr-meta-property>property</code> value
<em class=rfc2119>SHOULD NOT</em> be used.-->

<p>A <code title=attr-meta-property>property</code> value <em
class=rfc2119>MUST NOT</em> be used unless it is defined in the
context it is used by an <span>applicable specification</span>.

  <div class="note memo">

  <p>Many <code title=attr-meta-property>property</code> values are
  only defined for speciic <code>og:type</code> values.

  </div>

<p>If the <code title=attr-meta-property>property</code> attribute
value is <dfn><code>og:type</code></dfn>, the <code
title=attr-meta-content>content</code> attribute value <em
class=rfc2119>MUST</em> be a value allowed as an <code>og:type</code>
value or a <span>prefixed property value</span>.

  <div class="note memo">

  <p>An example of <span title="applicable specification">applicable
  specifications</span> is <a href="http://ogp.me/"><cite>The Open
  Graph protocol</cite></a>.

  </div>

</section>

<section>
<h1>Validation of templates</h1>

<p>Templates embedded in a <span>document</span> are not rendered and
are often incomplete until they are actually used as part of
the <span>document</span>.  As such, they are sometimes exepmted from
the formal requirements of the <span title="applicable
specification">specifications</span>.  However, whether templates are
in error or not could be useful information for authors who want to
ensure generated trees would not be broken because of poorly authored
templates.

<p>If a <span>node</span> is a <dfn>template root</dfn>,
it <em class=rfc2119>MUST</em>
be <span title=validate>validated</span> in the <span>template
mode</span>.

<p>In the <dfn>template mode</dfn>, any violation to the requirements
except for those of <span title="template specification">template
specifications</span> is marked as <i>in
template</i>.  <span title="user agent">User
agents</span> <em class=rfc2119>SHOULD</em> render errors <i>in
template</i> and the other errors in different manners.  At user
option, <span title="user agent">user
agents</span> <em class=rfc2119>MAY</em> hide errors <i>in
template</i>.

  <div class=note>

  <p>This means that errors in the <span>node</span> itself,
  its <span title=attribute>attributes</span>,
  its <span title=descendant>descendants</span>,
  its <span title="template content">template contents</span>, and
  its <span title="shadow root">shadow roots</span> are distinguished
  from errors <em>not</em> in the <span>template mode</span>.

  </div>

<p>In the <span>template mode</span>, no other <span>template
root</span> is recognized.

<p><dfn title="template specification">Template specifications</dfn>
of a <span>template root</span> are <span title="applicable
specification">specifications</span> defining <span>template
root</span>'s language.  If not specified, there is no <span>template
specification</span>.

<p><span title="template content">Template contents</span>
are <span title="template root">template roots</span>.

<p><span title="HTML element">HTML elements</span>
with <code>hidden</code> <span>attribute</span> <span>in no
namespace</span> are <span title="template root">template
roots</span>.

<section>
<h1>Validation of XSLT</h1>

<p class=section-info><em>This section applies to <span title="user
agent">user agents</span> implementing <span>XSLT1</span>.</em>

<p><span title="user agent">User agents</span>
supporting <span>XSLT1</span> <em class=rfc2119>MUST</em> implement
the <span>XSLT1 specifications</span>.  The <dfn>XSLT1
specifications</dfn> are
<a href=https://wiki.whatwg.org/wiki/DOM_XPath><cite>DOM
XPath</cite></a> and documents directly or indirectly referenced from
it defining XPath1 and XSLT1, including
<a href=https://www.w3.org/TR/1999/REC-xslt-19991116><cite>XSLT
Transformations (XSLT)</cite></a> and non-normative descriptions in
the <cite>HTML Standard</cite>.  The terms

<dfn>literal result element</dfn>,
<dfn title="XSLT template">template</dfn> (of XSLT),
<dfn>attribute value template</dfn>,
<dfn title="XSLT extension element">extension element</dfn> (of XSLT),
and
<dfn title="XSLT extension namespace">extension namespace</dfn> (of XSLT),

are defined by the <span>XSLT1 specifications</span>.

<p>The <dfn>XSLT namespace</dfn>
is <code>http://www.w3.org/1999/XSL/Transform</code>.
An <span>element</span> is <dfn>XSLT element</dfn> if
its <span>namespace</span> is the <span>XSLT namespace</span>.

<p>A <span>document</span> is an <dfn>XSLT stylesheet</dfn> if at
least <em>one</em> of the following conditions is true:

  <ul>

  <li>The <span>document</span> has a <span>document element</span>
  which is a <code>stylesheet</code> <span>element</span> in
  the <span>XSLT namespace</span>,

  <li>The <span>document</span> has a <span>document element</span>
  which is a <code>transform</code> <span>element</span> in
  the <span>XSLT namespace</span>,

  <li>The <span>document</span> has a <span>document element</span>
  with the <code>version</code> <span>attribute</span> in
  the <span>XSLT namespace</span>,

  or

  <li>The <span>document</span>'s <span>content type</span>
  is <code>application/xslt+xml</code> or <code>text/xsl</code>,

  </ul>

  <div class=note>

  <p>At user option, <span title="user agent">user agents</span>
  can <span>validate</span> a <span>document</span> as a <span>XSLT
  stylesheet</span> (ignoring its original context) by overriding
  its <span>content type</span> to <code>application/xslt+xml</code>.

  </div>

<p>For the purpose of <span title=validate>validation</span>,
any <span>child</span> of the <span>template content</span> of
a <code>template</code> <span>element</span> in the <span>HTML
element</span> <em class=rfc2119>MUST</em> be treated as if it were
a <span>child</span> of the <span>element</span> when its <span>node
document</span> is an <span>XSLT stylesheet</span>.<!-- for
consistency with non-normative definition in the HTML Standard -->

<p><span title="attribute">Attributes</span>
in <span>non-<code>null</code> namespace</span> <em class=rfc2119>MUST
NOT</em> be specified for <span title="XSLT element">XSLT
elements</span> unless they are allowed by <span title="applicable
specification">applicable specification</span>.<!-- XSLT1
specification allows any foreign attribute -->

  <div class="note">

  <p>For example, <span title=attribute>attributes</span> in
  the <span>XMLNS namespace</span> and <span title="unknown
  attribute">unknown attributes</span> are
  allowed.  <span title=attribute>Attributes</span> in the <span>Atom
  Threading namespace</span> are not.

  </div>

<p>The <span title="attribute value">value</span> of the
following <span title=attribute>attributes</span> <em class=rfc2119>MUST</em>
be <code>1.0</code><!-- It can be any Number in XSLT1 -->:

  <ul>

  <li><code>version</code> <span>attribute</span> <span>in no
  namespace</span>
  of <code>stylesheet</code> <span title=element>elements</span> in
  the <span>XSLT namespace</span>,

  <li><code>version</code> <span>attribute</span> <span>in no
  namespace</span>
  of <code>transform</code> <span title=element>elements</span> in
  the <span>XSLT namespace</span>,

  and

  <li><code>version</code> <span>attribute</span> in the <span>XSLT
  namespace</span>.

  </ul>

<p><span title=element>Elements</span> other than <span title="XSLT
element">XSLT elements</span> <em class=rfc2119>MUST NOT</em> be used
as <span title=child>children</span> of a <code>stylesheet</code>
or <code>transform</code> <span>element</span> in the <span>XSLT
namespace</span> unless they are allowed by <span title="applicable
specification">applicable specifications</span>.<!-- XSLT1 allows
everything with namespace -->

<p>The <span title="attribute value">value</span> of
the <code>method</code> <span>attribute</span> <span>in no
namespace</span> of an <code>output</code> <span>element</span>
in <span>XSLT namespace</span> or
the <code>data-type</code> <span>attribute</span> <span>in no
namespace</span> of a <code>sort</code> <span>element</span>
in <span>XSLT namespace</span> <em class=rfc2119>MUST NOT</em> be
a <span>QName</span> unless it represents a value allowed by
an <span>applicable specification</span>.<!-- Any QName is allowed for
extensions in XSLT1 -->

<p>The <code>version</code> <span>attribute</span> <span>in no
namespace</span> <em class=rfc2119>SHOULD NOT</em> be specified for
an <code>output</code> <span>element</span> in <span>XSLT
namespace</span>.  If specified, its <span title="attribute
value">value</span> <em class=rfc2119>MUST</em> be <code>1.0</code>.

  <div class=note>

  <p>Only known meaningful combinations of attributes
  are: <code>&lt;xsl:output method="xml"></code>, <code>&lt;xsl:output
  method="xml" version="1.0"></code>, <code>&lt;xsl:output
  method="html"></code>, and <code>&lt;xsl:output
  method="text"></code>.

  <!-- If output method=html, version, doctype-public, doctype-system,
  omit-xml-declaration, and standalone should be omitted. If output
  method=text, version, doctype-public, doctype-system,
  omit-xml-declaration, standalone, cdata-setion-elements, and indent
  should be omitted.  But there can be multiple output elements in
  included and imported stylesheets, which are too complex for
  validating without actually running the transform.  -->

  </div>

<p>The <span title="XSLT extension namespace">extension
namespaces</span> specified by
the <code>extension-element-prefixes</code> <span>attribute</span> <span>in
no namespace</span> or in the <span>XSLT
namespace</span> <em class=rfc2119>MUST</em> be one
of <span title="XSLT extension namespace candidate">XSLT extension
namespace candidates</span>.  The <dfn title="XSLT extension namespace
candidate">XSLT extension namespace candidates</dfn>
are <span title=namespace>namespaces</span> <span title="XSLT
extension element candidate">XSLT extension element candidates</span>
are belong to.

<p>An <span>element</span> is <dfn>XSLT extension element
candidate</dfn> if its semantics as an <span title="XSLT extension
element">extension element</span> is defined by
its <span title="applicable specification">specification</span>.

<p><span title="unknown element">Unknown elements</span>
whose <span>namespace</span> is <em>not</em> <code>null</code>
are <span title="XSLT extension element candidate">XSLT extension
element candidates</span>.

  <div class=note>

  <p>The <code>null</code> <span>namespace</span>, the <span>XML
  namespace</span>, the <span>XMLNS namespace</span>, and
  the <span>XSLT namespace</span> are <em>not</em> in
  the <span title="XSLT extension element candidate">XSLT extension
  namespace candidates</span>.

  </div>

<p><span title="XSLT template">Templates</span>
are <span title="template root">template roots</span>
whose <span title="template specification">template
specifications</span> are the <span>XSLT1 specifications</span> and
the <span title="applicable specification">specifications</span> of
the <span title="XSLT extension element">extension elements</span>.

  <div class=note>

  <p>Various <span title=attribute>attributes</span>
  in <span title="XSLT template">XSLT templates</span>, including
  those of <span title="literal result element">literal result
  elements</span>, can contain <span title="attribute value
  template">attribute value templates</span>, which
  makes <span title=validate>validation</span> complicated (or
  impossible).  How to handle them is a quality-of-implementation
  issue.

  </div>

</section>

</section>


<section>
<h1>Data</h1>

<p class=section-info><em>This section is non-normative.</em>

<p>The <a href="https://github.com/manakai/data-web-defs/">data-web-defs
repository</a> contains some machine-readable data for definitions in
this specification, in the following file:

  <ul>

  <li><a href=https://github.com/manakai/data-web-defs/blob/master/data/elements.json><code>data/elements.json</code></a>
  (<a href=https://github.com/manakai/data-web-defs/blob/master/doc/elements.txt>description</a>)

  </ul>

<p>The <a href="https://github.com/wakaba/tests-web">tests-web
repository</a> contains validation test data in these directories:

  <ul>

  <li><a href="https://github.com/wakaba/tests-web/tree/master/html/validation"><code>html/validation</code></a>
  <li><a href="https://github.com/wakaba/tests-web/tree/master/atom/validation"><code>atom/validation</code></a>
  <li><a href="https://github.com/wakaba/tests-web/tree/master/svg/validation"><code>svg/validation</code></a>
  <li><a href="https://github.com/wakaba/tests-web/tree/master/xml/validation"><code>xml/validation</code></a>

  </ul>

</section>

<section>
<h1 class=no-num id=author>Author</h1>

<p>This document is written by
<a href=https://suika.suikawiki.org/~wakaba/who?>Wakaba</a>
&lt;wakaba@suikawiki.org&gt; and is produced as part of the
<a href=https://manakai.github.io/>the manakai project</a>.

<p>Per
<a href=https://creativecommons.org/publicdomain/zero/1.0/>CC0</a>, to
the extent possible under law, the author has waived all copyright and
related or neighboring rights to this work.

</section>
