<!DOCTYPE html><html class="formal-specification anolis" lang=en><head>
<title>Atom DOM</title>
<link href=http://suika.suikawiki.org/www/style/html/spec rel=stylesheet>
<link href=#license rel=license>
</head>
<body class=has-abstract>

<header>

<hgroup>
  <h1 class="no-toc no-num">Atom DOM</h1>
  <h2 class="no-toc no-num">Manakai Project Living Standard 25 May 2013</h2>
</hgroup>

<dl class=versions-uri>
<dt>Latest Version</dt>
  <dd><code class=URI>&lt;<a href=http://suika.suikawiki.org/www/markup/xml/atomdom>http://suika.suikawiki.org/www/markup/xml/atomdom</a>&gt;</code></dd>
<dt id=version-history>Version History</dt>
  <dd><code class=URI>&lt;<a href=http://suika.suikawiki.org/gate/git/wi/markup/xmlexts.git/history/HEAD:/atomdom-source.en.html>http://suika.suikawiki.org/gate/git/wi/markup/xmlexts.git/history/HEAD:/atomdom-source.en.html</a>&gt;</code></dd>
<dt id=author>Author</dt>
  <dd><a href=http://suika.suikawiki.org/~wakaba/who? lang=ja rel=author>Wakaba</a>
  <code class=mail>&lt;<a href=mailto:wakaba@suikawiki.org rel=author>wakaba@suikawiki.org</a>&gt;</code></dd>
</dl>

<p class=copyright id=license lang=en><a href=http://creativecommons.org/publicdomain/zero/1.0/ rel=license><img alt=CC0 src=http://i.creativecommons.org/p/zero/1.0/80x15.png></a> To the
extent possible under law, the editor has waived all copyright and
related or neighboring rights to this work.  In addition, as of
25 May 2013, the editor has made this specification available under the <a href=http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0>Open
Web Foundation Agreement Version 1.0</a>.

</p></header>

<section id=status>
<h2 class="no-toc no-num" id=status-of-this-document>Status of This Document</h2>

<p class=section-info><em>This section describes the status of this
document at the time of its publication.  Other documents might
supersede this document.</em></p>

<p>This document is a technical specification produced as part of the
<a href=https://github.com/manakai>manakai</a> project.  It might be
updated, replaced, or obsoleted by other documents at any time.

</p><p>The scope of this specification is explicitly limited within the
manakai project.  It does not intended to be supported by multiple
parties, although nothing prevents it from implemented by other DOM
implementations.

</p><p>Comments on this document are welcome and may be sent to the <a href=#author>author</a>.</p>

<p>Translations of thie document might be available.  The English
version of the document is the only normative version.</p>
</section>

<section>
<h2 class="no-toc no-num" id=table-of-contents>Table of contents</h2>

<!--begin-toc-->
<ol class=toc>
 <li><a href=#introduction><span class=secno>1 </span>Introduction</a>
  <ol>
   <li><a href=#history><span class=secno>1.1 </span>History</a></li>
   <li><a href=#future-plans><span class=secno>1.2 </span>Future plans</a></li></ol></li>
 <li><a href=#definitions><span class=secno>2 </span>Definitions</a>
  <ol>
   <li><a href=#conformance><span class=secno>2.1 </span>Conformance</a></li>
   <li><a href=#terms><span class=secno>2.2 </span>Terms</a></li>
   <li><a href=#dom-operations><span class=secno>2.3 </span>DOM operations</a></li></ol></li>
 <li><a href=#document-constructors><span class=secno>3 </span>Document constructors</a></li>
 <li><a href=#atom-documents><span class=secno>4 </span>Atom documents</a></li>
 <li><a href=#interfaces-for-atom-core-elements><span class=secno>5 </span>Interfaces for Atom core elements</a>
  <ol>
   <li><a href=#the-atomelement-interface><span class=secno>5.1 </span>The <code>AtomElement</code> interface</a></li>
   <li><a href=#the-atomtextconstruct-interface><span class=secno>5.2 </span>The <code>AtomTextConstruct</code> interface</a></li>
   <li><a href=#the-atompersonconstruct-interface><span class=secno>5.3 </span>The <code>AtomPersonConstruct</code> interface</a></li>
   <li><a href=#the-atomdateconstruct-interface><span class=secno>5.4 </span>The <code>AtomDateConstruct</code> interface</a></li>
   <li><a href=#the-atomfeedelement-interface><span class=secno>5.5 </span>The <code>AtomFeedElement</code> interface</a></li>
   <li><a href=#the-atomentryelement-interface><span class=secno>5.6 </span>The <code>AtomEntryElement</code> interface</a></li>
   <li><a href=#the-atomsourceelement-interface><span class=secno>5.7 </span>The <code>AtomSourceElement</code> interface</a></li>
   <li><a href=#the-atomcontentelement-interface><span class=secno>5.8 </span>The <code>AtomContentElement</code> interface</a></li>
   <li><a href=#the-atomcategoryelement-interface><span class=secno>5.9 </span>The <code>AtomCategoryElement</code> interface</a></li>
   <li><a href=#the-atomgeneratorelement-interface><span class=secno>5.10 </span>The <code>AtomGeneratorElement</code> interface</a></li>
   <li><a href=#the-atomlinkelement-interface><span class=secno>5.11 </span>The <code>AtomLinkElement</code> interface</a></li></ol></li>
 <li><a href=#interfaces-for-atom-threading-extensions><span class=secno>6 </span>Interfaces for Atom Threading extensions</a>
  <ol>
   <li><a href=#the-atomthreadinreplytoelement-interface><span class=secno>6.1 </span>The <code>AtomThreadInReplyToElement</code> interface</a></li>
   <li><a href=#the-atomthreadtotalelement-interface><span class=secno>6.2 </span>The <code>AtomThreadTotalElement</code> interface</a></li></ol></li>
 <li><a href=#changes-from-earlier-versions-of-atom-dom><span class=secno>7 </span>Changes from earlier versions of Atom DOM</a></li>
 <li><a class=no-num href=#references>References</a></li></ol>
<!--end-toc-->
</section>

<section>
<h2 id=introduction><span class=secno>1 </span>Introduction</h2>

<p>The <dfn id=atom-dom>Atom DOM</dfn> is a language and platform independent
programming language interface to Atom documents built on top of
language-neutral DOM APIs <cite class="bibref normative">[<a href=#ref-DOM>DOM</a>]</cite>.  It defines a number of interfaces
that provide convenience methods and attributes to process Atom
documents <cite class="bibref normative">[<a href=#ref-ATOM>ATOM</a>]</cite>.

</p><section>
<h3 id=history><span class=secno>1.1 </span>History</h3>

<p class=ed>XXX

</p><p>The <a href=#atom-dom>Atom DOM</a> was <a href=http://suika.suikawiki.org/gate/cvs/messaging/manakai/lib/Message/Markup/Atom.dis>initially
specified</a> as the inline documentation for the manakai's Atom DOM
implementation.

</p><p>Then <a href=http://suika.suikawiki.org/~wakaba/wiki/sw/n/Atom%20DOM>additions
to the specification</a> was edited in SuikaWiki.

</p><p>These documents are replaced by <a href=#version-history>this
specification</a>.

</p></section>

<section>
<h3 id=future-plans><span class=secno>1.2 </span>Future plans</h3>

<p>Future revision of this specification might include support for
following technologies:

  </p><ul>

  <li>Atom 0.3

  </li><li>hAtom

  </li><li>AtomPub

  </li><li>Deleted entry documents

  </li></ul>

</section>

</section>

<section>
<h2 id=definitions><span class=secno>2 </span>Definitions</h2>

<section>
<h3 id=conformance><span class=secno>2.1 </span>Conformance</h3>

<p>The keywords "<em class=rfc2119>MUST</em>" and "<em class=rfc2119>MAY</em>" in the normative parts of this document are to
be interpreted as described in <a href=http://tools.ietf.org/html/rfc2119>RFC 2119</a> <cite class="bibref normative">[<a href=#ref-RFC2119>RFC2119</a>]</cite>.

</p><p>Requirements phrased in the imperative as part of algorithms (such
as "strip any leading space characters" or "return false and abort
these steps") are to be interpreted with the meaning of the key word
("<em class=rfc2119>MUST</em>", "<em class=rfc2119>MAY</em>", etc)
used in introducing the algorithm.

</p><p>Conformance requirements phrased as algorithms or specific steps
<em class=rfc2119>MAY</em> be implemented in any manner, so long as
the end result is equivalent. (In particular, the algorithms defined
in this specification are intended to be easy to follow, and not
intended to be performant.)

</p><p>User agents <em class=rfc2119>MAY</em> impose
implementation-specific limits on otherwise unconstrained inputs,
e.g. to prevent denial of service attacks, to guard against running
out of memory, or to work around platform-specific limitations.
</p></section>

<section>
<h3 id=terms><span class=secno>2.2 </span>Terms</h3>

<p>The terms <dfn id=context-object>context object</dfn>, <dfn id=concept-tree-parent title=concept-tree-parent>parent</dfn>, <dfn id=concept-tree-child title=concept-tree-child>child</dfn>, <dfn id=concept-tree-order title=concept-tree-order>tree order</dfn>, <dfn id=concept-node-append title=concept-node-append>append</dfn>, <dfn id=concept-node-pre-insert title=concept-node-pre-insert>pre-insert</dfn>, <dfn id=concept-node-document title=concept-node-document>node document</dfn>, <dfn id=dom-node-textcontent title=dom-Node-textContent><code>textContent</code></dfn>,
<dfn id=document><code>Document</code></dfn>, <dfn id=concept-document title=concept-document>document</dfn>, <dfn id=concept-document-content-type title=concept-document-content-type>content type</dfn>, <dfn id=document-element>document
element</dfn>, <dfn id=element><code>Element</code></dfn>, <dfn id=concept-element title=concept-element>element</dfn>, <dfn id=concept-element-local-name title=concept-element-local-name>local name</dfn>, <dfn id=concept-element-namespace title=concept-element-namespace>namespace</dfn>, <dfn id=concept-element-interface title=concept-element-interface>element interface</dfn>, <dfn id=dom-element-id title=dom-Element-id><code>id</code></dfn>, <dfn id=concept-attribute title=concept-attribute>attribute</dfn>, <dfn id=content-attribute>content attribute</dfn>,
<dfn id=concept-attribute-value title=concept-attribute-value>value</dfn>, <dfn id=concept-element-attributes-set title=concept-element-attributes-set>set an attribute</dfn>,
<dfn id=text><code>Text</code></dfn>, <dfn id=concept-cd-data title=concept-cd-data>data</dfn>,
<dfn id=concept-collection title=concept-collection>collection</dfn>,
<dfn id=htmlcollection><code>HTMLCollection</code></dfn>, <dfn id=concept-collection-live title=concept-collection-live>live</dfn>, <dfn id=concept-collection-static title=concept-collection-static>static</dfn>, <dfn id=xml-namespace>XML
namespace</dfn>, <dfn id=html-namespace>HTML namespace</dfn>,
<dfn id=domimplementation><code>DOMImplementation</code></dfn>, and <dfn id=dom-domimplementation-createdocument title=dom-DOMImplementation-createDocument><code>createDocument</code></dfn>
are defined by the DOM Standard <cite class="bibref normative">[<a href=#ref-DOM>DOM</a>]</cite>.

</p><p>The term <dfn id=url>URL</dfn> is defined by the URL Standard <cite class="bibref normative">[<a href=#ref-URL>URL</a>]</cite>.

</p><p>The terms <dfn id=idl-attribute>IDL attribute</dfn>, <dfn id=reflect>reflect</dfn>,
<dfn id=resolve-a-url>resolve a URL</dfn>, <dfn id=parse-a-global-date-and-time-string>parse a global date and time
string</dfn>, and <dfn id=valid-normalized-forced-utc-global-date-and-time-string>valid normalized forced-UTC global date and
time string</dfn> are defined by the HTML Standard <cite class="bibref
normative">[<a href=#ref-HTML>HTML</a>]</cite>.

</p><p>The <dfn id=atom-namespace>Atom namespace</dfn> is
<code>http://www.w3.org/2005/Atom</code> <cite class="bibref
normative">[<a href=#ref-ATOM>ATOM</a>]</cite>.

</p><p>The <dfn id=atom-threading-namespace>Atom Threading namespace</dfn> is
<code>http://purl.org/syndication/thread/1.0</code> <cite class="bibref normative">[<a href=#ref-ATOMTHREADING>ATOMTHREADING</a>]</cite>.

</p><p>The <dfn id=svgelement><code>SVGElement</code></dfn> interface is defined in the
SVG specification <cite class="bibref normative">[<a href=#ref-SVG>SVG</a>]</cite>.

</p><p>The <dfn id=manakai-create-child-element><a href=http://suika.suikawiki.org/~wakaba/wiki/sw/n/manakai%20DOM%20Extensions#anchor-97><code>manakai-create-child-element</code></a></dfn>
<span>configuration parameter</span> is defined in the manakai DOM
Extensions specification <cite class="bibref normative">[<a href=#ref-MANAKAI>MANAKAI</a>]</cite>.  If the implementation does
not support the <span>configuration parameter</span>, it <em class=rfc2119>MUST</em> behave as if the <span>configuration
parameter</span> is set to its default value.

</p><p>The IDL fragments in this specification <em class=rfc2119>MUST</em>
be interpreted as described in the WebIDL specification <cite class="bibref normative">[<a href=#ref-WEBIDL>WEBIDL</a>]</cite>.

</p></section>

<section>
<h3 id=dom-operations><span class=secno>2.3 </span>DOM operations</h3>

<p>To <dfn id=set-the-xml:lang-attribute>set the <code>xml:lang</code> attribute</dfn> of an <a href=#concept-element title=concept-element>element</a> <var title="">element</var> to value
<var>value</var>, the <a href=#concept-element-attributes-set title=concept-element-attributes-set>set
an attribute</a> steps <em class=rfc2119>MUST</em> be invoked using
<var title="">element</var>, <var title="">value</var>, <var title="">local
name</var> <code>lang</code>, <var title="">prefix</var>
<code>xml</code>, and <var title="">namespace</var> the <a href=#xml-namespace>XML
namespace</a>.

</p><p>To <dfn id=concept-append-atom-element title=concept-append-atom-element>append an Atom
element</dfn> <var title="">local name</var> with <var title="">text
content</var> to <var title="">parent</var>, the following steps <em class=rfc2119>MUST</em> be run:

</p><ol class=algorithm>

<li>Let <var title="">element</var> be an <a href=#concept-element title=concept-element>element</a> whose <a href=#concept-element-local-name title=concept-element-local-name>local name</a> is <var title="">local
name</var> and <a href=#concept-element-namespace title=concept-element-namespace>namespace</a>
is the <a href=#atom-namespace>Atom namespace</a>.

</li><li>If <var title="">text content</var> is not the empty string, <a href=#concept-node-append title=concept-node-append>append</a> a <a href=#text><code>Text</code></a> node whose
<a href=#concept-cd-data title=concept-cd-data>data</a> is <var title="">text
content</var>.

</li><li><a href=#concept-node-append title=concept-node-append>Append</a> <var title="">element</var> to <var title="">parent</var>.

</li></ol>

<p>To <dfn id=obtain-the-child-element>obtain the child element</dfn> of <var title="">element</var>
with <var title="">local name</var> and optionally <var title="">namespace</var>, the following steps <em class=rfc2119>MUST</em>
be run:

</p><ol class=algorithm>

<li>Let <var title="">namespace</var> be the <a href=#atom-namespace>Atom namespace</a>
if it is not explicitly given.

</li><li>If <var title="">element</var> has a <a href=#concept-tree-child title=concept-tree-child>child</a> <a href=#concept-element title=concept-element>element</a> whose <a href=#concept-element-local-name title=concept-element-local-name>local name</a> is <var title="">local
name</var> and <a href=#concept-element-namespace><var title=concept-element-namespace>namespace</var></a>,
return the first such <a href=#concept-element title=concept-element>element</a> in
<a href=#concept-tree-order title=concept-tree-order>tree order</a> and abort these
steps.

</li><li>Otherwise, if the <a href=#manakai-create-child-element><code>manakai-create-child-element</code></a>
<span>configuration parameter</span> of the <a href=#concept-node-document title=concept-node-document>node document</a> of <var title="">element</var> is set to true:

  <ol class=algorithm>

  <li>Let <var title="">child</var> be an <a href=#concept-element title=concept-element>element</a> whose <span title=concept-local-name>local name</span> is <var title="">local
  name</var> and <span title=concept-namespace>namespace</span> is
  <var title="">namespace</var>.

  </li><li>Let <var title="">entry</var> be <span>null</span>.

  </li><li>If the <a href=#context-object>context object</a> is the <code>feed</code>
  <a href=#concept-element title=concept-element>element</a> in the <a href=#atom-namespace>Atom
  namespace</a> and it has an <code>entry</code> <a href=#concept-tree-child title=concept-tree-child>child</a> <a href=#concept-element title=concept-element>element</a>, let <var title="">entry</var> be
  first such an element in <a href=#concept-tree-order title=concept-tree-order>tree
  order</a>.

  </li><li><a href=#concept-node-pre-insert title=concept-node-pre-insert>Pre-insert</a> <var title="">child</var> into <var title="">element</var> before <var title="">entry</var>.

  </li><li>Return <var title="">child</var> and abort these steps.

  </li></ol>

</li><li>Otherwise, return <code>null</code>.

</li></ol>

<p class=ed>XXX Attributes which <a href=#obtain-the-child-element>obtain the child element</a>
should be defined as methods?  No other IDL attribute in the platform
mutates underlying DOM...

</p><p>The <dfn id=child-element-list>child element list</dfn> of type <var title="">local
name</var> for <a href=#concept-element title=concept-element>element</a> <var title="">element</var> with optional <var title="">namespace</var> is an
<a href=#htmlcollection><code>HTMLCollection</code></a> rooted at the <var title="">element</var>,
whose filter matches only <a href=#concept-tree-child title=concept-tree-child>child</a>
<a href=#concept-element title=concept-element>elements</a> of <var title="">element</var> with <a href=#concept-element-local-name title=concept-element-local-name>local
name</a> <var title="">local name</var> and <a href=#concept-element-namespace title=concept-element-namespace>namespace</a> <var title="">namespace</var>, if specified, or the <a href=#atom-namespace>Atom
namespace</a>.

  </p><div class="note memo">

    <p>As specified in the DOM Standard, <a href=#htmlcollection><code>HTMLCollection</code></a>
    objects are <a href=#concept-collection-live title=concept-collection-live>live</a> by
    default.  Attributes returning <a href=#htmlcollection><code>HTMLCollection</code></a> always
    return the same object.

  </p></div>

<hr>

<p>If an attribute <dfn id=reflect-the-string-value-of-a-child-element title="reflect the string value of a child
element">reflects the string value of the child element <var title="">local name</var></dfn>, optionally with <var title="">namespace</var>, on getting, the attribute <em class=rfc2119>MUST</em> run the following steps:

</p><ol class=algorithm>

<li>Let <var title="">namespace</var> be the <a href=#atom-namespace>Atom namespace</a>
if it is not explicitly given.

</li><li>If <var title="">element</var> has a <a href=#concept-tree-child title=concept-tree-child>child</a> <a href=#concept-element title=concept-element>element</a> whose <a href=#concept-element-local-name title=concept-element-local-name>local name</a> is <var title="">local
name</var> and <a href=#concept-element-namespace><var title=concept-element-namespace>namespace</var></a>,
return the <a href=#dom-node-textcontent><code title=dom-Node-textContent>textContent</code></a>
attribute value of the first such <a href=#concept-element title=concept-element>element</a> in <a href=#concept-tree-order title=concept-tree-order>tree order</a>.

</li><li>Otherwise, return the empty string.

</li></ol>

<p>If an attribute <dfn id=reflect-the-url-value-of-a-child-element title="reflect the URL value of a child
element">reflects the URL value of the child element <var title="">local
name</var></dfn>, optionally with <var title="">namespace</var>, on
getting, the attribute <em class=rfc2119>MUST</em> run the following
steps:

</p><ol class=algorithm>

<li>Let <var title="">namespace</var> be the <a href=#atom-namespace>Atom namespace</a>
if it is not explicitly given.

</li><li>If <var title="">element</var> has a <a href=#concept-tree-child title=concept-tree-child>child</a> <a href=#concept-element title=concept-element>element</a> whose <a href=#concept-element-local-name title=concept-element-local-name>local name</a> is <var title="">local
name</var> and <a href=#concept-element-namespace><var title=concept-element-namespace>namespace</var></a>:

  <ol class=algorithm>

  <li>Let <var title="">child</var> be the first such <a href=#concept-element title=concept-element>element</a> in <a href=#concept-tree-order title=concept-tree-order>tree order</a>.

  </li><li><a href=#resolve-a-url title="resolve a URL">Resolve</a> the <a href=#dom-node-textcontent><code title=dom-Node-textContent>textContent</code></a> attribute value of
  <var title="">child</var>, relative to <var title="">child</var>.  If it
  results in an error, return the empty string.  Otherwise, return the
  result.

  </li></ol>

</li><li>Otherwise, return the empty string.

</li></ol>

<p>If an attribute reflects the <a href=#reflect-the-string-value-of-a-child-element title="reflect the string value
of a child element">string</a> or <a href=#reflect-the-url-value-of-a-child-element title="reflect the URL
value of a child element">URL</a> value of the child element, on
setting, the attribute <em class=rfc2119>MUST</em> run the following
steps:

</p><ol class=algorithm>

<li>Let <var title="">namespace</var> be the <a href=#atom-namespace>Atom namespace</a>
if it is not explicitly given.

</li><li>If <var title="">element</var> has a <a href=#concept-tree-child title=concept-tree-child>child</a> <a href=#concept-element title=concept-element>element</a> whose <a href=#concept-element-local-name title=concept-element-local-name>local name</a> is <var title="">local
name</var> and <a href=#concept-element-namespace><var title=concept-element-namespace>namespace</var></a>,
act as if the <a href=#dom-node-textcontent><code title=dom-Node-textContent>textContent</code></a>
attribute of the first such <a href=#concept-element title=concept-element>element</a>
in <a href=#concept-tree-order title=concept-tree-order>tree order</a> is set to the
given value and abort these steps.

</li><li>Let <var title="">child</var> be an <a href=#concept-element title=concept-element>element</a> whose <span title=concept-local-name>local name</span> is <var title="">local
name</var> and <span title=concept-namespace>namespace</span> is <var title="">namespace</var>.

</li><li>If the given value is not the empty string, <a href=#concept-node-append title=concept-node-append>append</a> a <a href=#text><code>Text</code></a> whose
<a href=#concept-cd-data title=concept-cd-data>data</a> is the given value to <var title="">child</var>.

</li><li><a href=#concept-node-append title=concept-node-append>Append</a> <var title="">child</var> to the <a href=#context-object>context object</a>.

</li></ol>

</section>

</section>

<section>
<h2 id=document-constructors><span class=secno>3 </span>Document constructors</h2>

<p>Document constructor methods are added to the
<a href=#domimplementation><code>DOMImplementation</code></a> object as follows:

</p><pre class=idl id=AtomImplementation><code>partial interface <a href=#domimplementation>DOMImplementation</a> {
  <a href=#document>Document</a> <a href=#dom-domimplementation-createatomfeeddocument title=dom-DOMImplementation-createAtomFeedDocument>createAtomFeedDocument</a>(<span>DOMString</span> id, [TreatNullAs=EmptyString] <span>DOMString</span> title, [TreatNullAs=EmptyString] <span>DOMString</span> lang);
  <a href=#document>Document</a> <a href=#dom-domimplementation-createatomentrydocument title=dom-DOMImplementation-createAtomEntryDocument>createAtomEntryDocument</a>(<span>DOMString</span> id, [TreatNullAs=EmptyString] <span>DOMString</span> title, [TreatNullAs=EmptyString] <span>DOMString</span> lang);
};</code></pre>

<p>The <dfn id=dom-domimplementation-createatomfeeddocument title=dom-DOMImplementation-createAtomFeedDocument><code>createAtomFeedDocument(<var title="">id</var>, <var title="">title</var>, <var title="">lang</var>)</code></dfn> method <em class=rfc2119>MUST</em> run
the following steps:

</p><ol class=algorithm>

<li>Let <var title="">document</var> be a new <a href=#concept-document title=concept-document>document</a>.

</li><li>Set the <a href=#concept-document-content-type title=concept-document-content-type>content
type</a> of <var title="">document</var> to
<code>application/atom+xml</code>.

</li><li>Let <var title="">feed</var> be a <code>feed</code> <a class=concept-element href=#element>element</a> in the <a href=#atom-namespace>Atom
namespace</a>.

</li><li><a href=#set-the-xml:lang-attribute>Set the <code>xml:lang</code> attribute</a> of <var title="">feed</var> to <var title="">lang</var>.

</li><li><a href=#concept-append-atom-element title=concept-append-atom-element>Append an Atom
<code>id</code> element</a> whose <var title="">text content</var> is
<var title="">id</var> to <var title="">feed</var>.

</li><li><a href=#concept-append-atom-element title=concept-append-atom-element>Append an Atom
<code>title</code> element</a> whose <var title="">text content</var>
is <var title="">title</var> to <var title="">feed</var>.

</li><li><a href=#concept-append-atom-element title=concept-append-atom-element>Append an Atom
<code>updated</code> element</a> whose <var title="">text
content</var> is <a href=#valid-normalized-forced-utc-global-date-and-time-string>valid normalized forced-UTC global date and
time string</a> of the current time to <var title="">feed</var>.

</li><li><a href=#concept-node-append title=concept-node-append>Append</a> <var title="">feed</var> to <var title="">document</var>.

</li><li>Return <var title="">document</var>.

</li></ol>

<p>The <dfn id=dom-domimplementation-createatomentrydocument title=dom-DOMImplementation-createAtomEntryDocument><code>createAtomEntryDocument(<var title="">id</var>, <var title="">title</var>, <var title="">lang</var>)</code></dfn> method <em class=rfc2119>MUST</em> run
the following steps:

</p><ol class=algorithm>

<li>Let <var title="">document</var> be a new <a href=#concept-document title=concept-document>document</a>.

</li><li>Set the <a href=#concept-document-content-type title=concept-document-content-type>content
type</a> of <var title="">document</var> to
<code>application/atom+xml</code>.

</li><li>Let <var title="">entry</var> be a <code>entry</code> <a class=concept-element href=#element>element</a> in the <a href=#atom-namespace>Atom
namespace</a>.

</li><li><a href=#set-the-xml:lang-attribute>Set the <code>xml:lang</code> attribute</a> of <var title="">entry</var> to <var title="">lang</var>.

</li><li><a href=#concept-append-atom-element title=concept-append-atom-element>Append an Atom
<code>id</code> element</a> whose <var title="">text content</var> is
<var title="">id</var> to <var title="">entry</var>.

</li><li><a href=#concept-append-atom-element title=concept-append-atom-element>Append an Atom
<code>title</code> element</a> whose <var title="">text content</var>
is <var title="">title</var> to <var title="">entry</var>.

</li><li><a href=#concept-append-atom-element title=concept-append-atom-element>Append an Atom
<code>updated</code> element</a> whose <var title="">text
content</var> is <a href=#valid-normalized-forced-utc-global-date-and-time-string>valid normalized forced-UTC global date and
time string</a> of the current time to <var title="">entry</var>.

</li><li><a href=#concept-node-append title=concept-node-append>Append</a> <var title="">entry</var> to <var title="">document</var>.

</li><li>Return <var title="">document</var>.

</li></ol>

</section>

<section>
<h2 id=atom-documents><span class=secno>4 </span>Atom documents</h2>

<pre class=idl id=AtomDocument><code>partial interface <a href=#document>Document</a> {
  readonly attribute <a href=#atomfeedelement>AtomFeedElement</a>? <a href=#dom-document-atomfeedelement title=dom-Document-atomFeedElement>atomFeedElement</a>;
};</code></pre>

<p>The <dfn id=dom-document-atomfeedelement title=dom-Document-atomFeedElement><code>atomFeedElement</code></dfn>
attribute of the <a href=#document><code>Document</code></a> interface <em class=rfc2119>MUST</em> run the following steps:

  </p><ol class=algorithm>

  <li>If the <a href=#concept-document title=concept-document>document</a> has no
  <a href=#document-element>document element</a>, return <code>null</code> and abort
  these steps.

  </li><li>If the <a href=#document-element>document element</a> is the <code>feed</code>
  <a href=#concept-element title=concept-element>element</a> in the <a href=#atom-namespace>Atom
  namespace</a>, return the <a href=#concept-element title=concept-element>element</a>.

  </li><li>Return <code>null</code>.

  </li></ol>

</section>

<section>
<h2 id=interfaces-for-atom-core-elements><span class=secno>5 </span>Interfaces for Atom core elements</h2>

<section>
<h3 id=the-atomelement-interface><span class=secno>5.1 </span>The <a href=#atomelement><code>AtomElement</code></a> interface</h3>

<p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for <a href=#concept-element title=concept-element>elements</a> in the <a href=#atom-namespace>Atom
namespace</a> or the <a href=#atom-threading-namespace>Atom Threading namespace</a> is
<a href=#atomelement><code>AtomElement</code></a>, unless stated otherwise.

</p><pre class=idl><code>interface <dfn id=atomelement>AtomElement</dfn> : <a href=#element>Element</a> {
  attribute DOMString <a href=#dom-atomelement-xmlbase title=dom-AtomElement-xmlbase>xmlbase</a>;
  attribute DOMString <a href=#dom-atomelement-xmllang title=dom-AtomElement-xmllang>xmllang</a>;
};</code></pre>

<p>The <dfn id=dom-atomelement-xmlbase title=dom-AtomElement-xmlbase><code>xmlbase</code></dfn>
attribute of the <a href=#atomelement><code>AtomElement</code></a> interface <em class=rfc2119>MUST</em> behave in the same way as the <a href=https://svgwg.org/svg2-draft/single-page.html#types-__svg__SVGElement__xmlbase><code>xmlbase</code></a>
attribute of the <a href=#svgelement><code>SVGElement</code></a> interface.

</p><p>The <dfn id=dom-atomelement-xmllang title=dom-AtomElement-xmllang><code>xmllang</code></dfn>
attribute of the <a href=#atomelement><code>AtomElement</code></a> interface <em class=rfc2119>MUST</em> behave in the same way as the <a href=https://svgwg.org/svg2-draft/single-page.html#types-__svg__SVGElement__xmllang><code>xmllang</code></a>
attribute of the <a href=#svgelement><code>SVGElement</code></a> interface.

</p><hr>

<p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>id</code> <a href=#concept-element title=concept-element>element</a> in
the <a href=#atom-namespace>Atom namespace</a> is <a href=#atomidelement><code>AtomIdElement</code></a>.

</p><p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>icon</code> <a href=#concept-element title=concept-element>element</a>
in the <a href=#atom-namespace>Atom namespace</a> is <a href=#atomiconelement><code>AtomIconElement</code></a>.

</p><p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>name</code> <a href=#concept-element title=concept-element>element</a>
in the <a href=#atom-namespace>Atom namespace</a> is <a href=#atomnameelement><code>AtomNameElement</code></a>.

</p><p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>uri</code> <a href=#concept-element title=concept-element>element</a> in
the <a href=#atom-namespace>Atom namespace</a> is <a href=#atomurielement><code>AtomUriElement</code></a>.

</p><p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>email</code> <a href=#concept-element title=concept-element>element</a>
in the <a href=#atom-namespace>Atom namespace</a> is <a href=#atomemailelement><code>AtomEmailElement</code></a>.

</p><p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>logo</code> <a href=#concept-element title=concept-element>element</a>
in the <a href=#atom-namespace>Atom namespace</a> is <a href=#atomlogoelement><code>AtomLogoElement</code></a>.

</p><pre class=idl><code>interface <dfn id=atomidelement>AtomIdElement</dfn> : <a href=#atomelement>AtomElement</a> {};
interface <dfn id=atomiconelement>AtomIconElement</dfn> : <a href=#atomelement>AtomElement</a> {};
interface <dfn id=atomnameelement>AtomNameElement</dfn> : <a href=#atomelement>AtomElement</a> {};
interface <dfn id=atomurielement>AtomUriElement</dfn> : <a href=#atomelement>AtomElement</a> {};
interface <dfn id=atomemailelement>AtomEmailElement</dfn> : <a href=#atomelement>AtomElement</a> {};
interface <dfn id=atomlogoelement>AtomLogoElement</dfn> : <a href=#atomelement>AtomElement</a> {};</code></pre>

</section>

<section>
<h3 id=the-atomtextconstruct-interface><span class=secno>5.2 </span>The <a href=#atomtextconstruct><code>AtomTextConstruct</code></a> interface</h3>

<pre class=idl><code>[NoInterfaceObject]
interface <dfn id=atomtextconstruct>AtomTextConstruct</dfn> : <a href=#atomelement>AtomElement</a> {
  attribute <span>DOMString</span> <a href=#dom-atomtextconstruct-type title=dom-AtomTextConstruct-type>type</a>;
  readonly attribute <a href=#element>Element</a>? <a href=#dom-atomtextconstruct-container title=dom-AtomTextConstruct-container>container</a>;
};</code></pre>

<p>The <dfn id=dom-atomtextconstruct-type title=dom-AtomTextConstruct-type><code>type</code></dfn>
attribute of the <a href=#atomtextconstruct><code>AtomTextConstruct</code></a> <em class=rfc2119>MUST</em> <a href=#reflect>reflect</a> the <a href=#content-attribute>content
attribute</a> of the same name.  The default value for the
attribute is <a href=#text><code>text</code></a>.

</p><p>The <dfn id=dom-atomtextconstruct-container title=dom-AtomTextConstruct-container><code>container</code></dfn>
attribute <em class=rfc2119>MUST</em> run the following steps:

</p><ol class=algorithm>

<li>If the <a href=#concept-attribute-value title=concept-attribute-value>value</a> of the
<code>type</code> <a href=#concept-attribute title=concept-attribute>content
attribute</a> of the <a href=#context-object>context object</a>, if any, is
<code>xhtml</code>, return <a href=#obtain-the-child-element title="obtain the child element">the
<code>div</code> child element</a> of <var title="">element</var>, in
the <a href=#html-namespace>HTML namespace</a>.

</li><li>Otherwise, return the <a href=#context-object>context object</a>.

</li></ol>

<hr>

<p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>rights</code> <a href=#concept-element title=concept-element>element</a>
in the <a href=#atom-namespace>Atom namespace</a> is <a href=#atomrightselement><code>AtomRightsElement</code></a>.

</p><p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>subtitle</code> <a href=#concept-element title=concept-element>element</a> in the <a href=#atom-namespace>Atom
namespace</a> is <a href=#atomsubtitleelement><code>AtomSubtitleElement</code></a>.

</p><p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>summary</code> <a href=#concept-element title=concept-element>element</a> in the <a href=#atom-namespace>Atom
namespace</a> is <a href=#atomsummaryelement><code>AtomSummaryElement</code></a>.

</p><p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>title</code> <a href=#concept-element title=concept-element>element</a>
in the <a href=#atom-namespace>Atom namespace</a> is <a href=#atomtitleelement><code>AtomTitleElement</code></a>.

</p><pre class=idl><code>interface <dfn id=atomrightselement>AtomRightsElement</dfn> : <a href=#atomtextconstruct>AtomTextConstruct</a> {};
interface <dfn id=atomsubtitleelement>AtomSubtitleElement</dfn> : <a href=#atomtextconstruct>AtomTextConstruct</a> {};
interface <dfn id=atomsummaryelement>AtomSummaryElement</dfn> : <a href=#atomtextconstruct>AtomTextConstruct</a> {};
interface <dfn id=atomtitleelement>AtomTitleElement</dfn> : <a href=#atomtextconstruct>AtomTextConstruct</a> {};</code></pre>

</section>

<section>
<h3 id=the-atompersonconstruct-interface><span class=secno>5.3 </span>The <a href=#atompersonconstruct><code>AtomPersonConstruct</code></a> interface</h3>

<pre class=idl><code>[NoInterfaceObject]
interface <dfn id=atompersonconstruct>AtomPersonConstruct</dfn> : <a href=#atomelement>AtomElement</a> {
  attribute <span>DOMString</span> <a href=#dom-atompersonconstruct-name title=dom-AtomPersonConstruct-name>name</a>;
  readonly attribute <a href=#atomnameelement>AtomNameElement</a>? <a href=#dom-atompersonconstruct-nameelement title=dom-AtomPersonConstruct-nameElement>nameElement</a>;
  attribute <span>DOMString</span> <a href=#dom-atompersonconstruct-uri title=dom-AtomPersonConstruct-uri>uri</a>;
  attribute <span>DOMString</span> <a href=#dom-atompersonconstruct-email title=dom-AtomPersonConstruct-email>email</a>;
};</code></pre>

<p>The <dfn id=dom-atompersonconstruct-name title=dom-AtomPersonConstruct-name><code>name</code></dfn>
attribute <em class=rfc2119>MUST</em> <a href=#reflect-the-string-value-of-a-child-element title="reflect the string
value of a child element">reflect the string value of the
<code>name</code> child element</a>.

</p><p>The <dfn id=dom-atompersonconstruct-nameelement title=dom-AtomPersonConstruct-nameElement><code>nameElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>name</code> child element</a>.

</p><p>The <dfn id=dom-atompersonconstruct-uri title=dom-AtomPersonConstruct-uri><code>uri</code></dfn>
attribute <em class=rfc2119>MUST</em> <a href=#reflect-the-url-value-of-a-child-element title="reflect the URL
value of a child element">reflect the URL value of the
<code>uri</code> child element</a>.

</p><p>The <dfn id=dom-atompersonconstruct-email title=dom-AtomPersonConstruct-email><code>email</code></dfn> attribute
<em class=rfc2119>MUST</em> <a href=#reflect-the-string-value-of-a-child-element title="reflect the string value of a
child element">reflect the string value of the <code>name</code> child
element</a>.

</p><hr>

<p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>author</code> <a href=#concept-element title=concept-element>element</a>
in the <a href=#atom-namespace>Atom namespace</a> is <a href=#atomauthorelement><code>AtomAuthorElement</code></a>.

</p><p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>contributor</code> <a href=#concept-element title=concept-element>element</a> in the <a href=#atom-namespace>Atom
namespace</a> is <a href=#atomcontributorelement><code>AtomContributorElement</code></a>.

</p><pre class=idl><code>interface <dfn id=atomauthorelement>AtomAuthorElement</dfn> : <a href=#atompersonconstruct>AtomPersonConstruct</a> {};
interface <dfn id=atomcontributorelement>AtomContributorElement</dfn> : <a href=#atompersonconstruct>AtomPersonConstruct</a> {};</code></pre>

</section>

<section>
<h3 id=the-atomdateconstruct-interface><span class=secno>5.4 </span>The <a href=#atomdateconstruct><code>AtomDateConstruct</code></a> interface</h3>

<pre class=idl><code>[NoInterfaceObject]
interface <dfn id=atomdateconstruct>AtomDateConstruct</dfn> : <a href=#atomelement>AtomElement</a> {
  attribute <span>DOMTimeStamp</span> <a href=#dom-atomdateconstruct-value title=dom-AtomDateConstruct-value>value</a>;
};</code></pre>

<p>On getting, the <dfn id=dom-atomdateconstruct-value title=dom-AtomDateConstruct-value><code>value</code></dfn> attribute
of the <a href=#atomdateconstruct><code>AtomDateConstruct</code></a> interface <em class=rfc2119>MUST</em> <a href=#parse-a-global-date-and-time-string title="parse a global date and time
string">parse</a> the <a href=#dom-node-textcontent><code title=dom-Node-textContent>textContent</code></a> of the <a href=#context-object>context
object</a> and return the result (or zero if failed).  <span class=ed>Implementations are required to implement more tolerant
datetime parsing algorithm for compatibility with Atom documents in
the wild...</span>

</p><p>On setting, the <a href=#dom-atomdateconstruct-value><code title=dom-AtomDateConstruct-value>value</code></a> attribute of the
<a href=#atomdateconstruct><code>AtomDateConstruct</code></a> interface <em class=rfc2119>MUST</em>
act as if the <a href=#dom-node-textcontent><code title=dom-Node-textContent>textContent</code></a>
attribute is set to the <a href=#valid-normalized-forced-utc-global-date-and-time-string>valid normalized forced-UTC global date
and time string</a> representation of the given value.

</p><hr>

<p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>published</code> <a href=#concept-element title=concept-element>element</a> in the <a href=#atom-namespace>Atom
namespace</a> is <a href=#atompublishedelement><code>AtomPublishedElement</code></a>.

</p><p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>updated</code> <a href=#concept-element title=concept-element>element</a> in the <a href=#atom-namespace>Atom
namespace</a> is <a href=#atomupdatedelement><code>AtomUpdatedElement</code></a>.

</p><pre class=idl><code>interface <dfn id=atompublishedelement>AtomPublishedElement</dfn> : <a href=#atomdateconstruct>AtomDateConstruct</a> {};
interface <dfn id=atomupdatedelement>AtomUpdatedElement</dfn> : <a href=#atomdateconstruct>AtomDateConstruct</a> {};</code></pre>

</section>

<section>
<h3 id=the-atomfeedelement-interface><span class=secno>5.5 </span>The <a href=#atomfeedelement><code>AtomFeedElement</code></a> interface</h3>

<p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>feed</code> <a href=#concept-element title=concept-element>element</a>
in the <a href=#atom-namespace>Atom namespace</a> is <a href=#atomfeedelement><code>AtomFeedElement</code></a>.

</p><pre class=idl><code>interface <dfn id=atomfeedelement>AtomFeedElement</dfn> : <a href=#atomelement>AtomElement</a> {
  readonly attribute <a href=#htmlcollection>HTMLCollection</a> <a href=#dom-atomfeedelement-authorelements title=dom-AtomFeedElement-authorElements>authorElements</a>;
  readonly attribute <a href=#htmlcollection>HTMLCollection</a> <a href=#dom-atomfeedelement-categoryelements title=dom-AtomFeedElement-categoryElements>categoryElements</a>;
  readonly attribute <a href=#htmlcollection>HTMLCollection</a> <a href=#dom-atomfeedelement-contributorelements title=dom-AtomFeedElement-contributorElements>contributorElements</a>;
  readonly attribute <a href=#atomgeneratorelement>AtomGeneratorElement</a>? <a href=#dom-atomfeedelement-generatorelement title=dom-AtomFeedElement-generatorElement>generatorElement</a>;
  attribute <span>DOMString</span> <a href=#dom-atomfeedelement-icon title=dom-AtomFeedElement-icon>icon</a>;
  attribute <span>DOMString</span> <a href=#dom-atomfeedelement-atomid title=dom-AtomFeedElement-atomId>atomId</a>;
  readonly attribute <a href=#htmlcollection>HTMLCollection</a> <a href=#dom-atomfeedelement-linkelements title=dom-AtomFeedElement-linkElements>linkElements</a>;
  attribute <span>DOMString</span> <a href=#dom-atomfeedelement-logo title=dom-AtomFeedElement-logo>logo</a>;
  readonly attribute <a href=#atomrightselement>AtomRightsElement</a>? <a href=#dom-atomfeedelement-rightselement title=dom-AtomFeedElement-rightsElement>rightsElement</a>;
  readonly attribute <a href=#atomsubtitleelement>AtomSubtitleElement</a>? <a href=#dom-atomfeedelement-subtitleelement title=dom-AtomFeedElement-subtitleElement>subtitleElement</a>;
  readonly attribute <a href=#atomtitleelement>AtomTitleElement</a>? <a href=#dom-atomfeedelement-titleelement title=dom-AtomFeedElement-titleElement>titleElement</a>;
  readonly attribute <a href=#atomupdatedelement>AtomUpdatedElement</a>? <a href=#dom-atomfeedelement-updatedelement title=dom-AtomFeedElement-updatedElement>updatedElement</a>;
  readonly attribute <a href=#htmlcollection>HTMLCollection</a> <a href=#dom-atomfeedelement-entryelements title=dom-AtomFeedElement-entryElements>entryElements</a>;
  <a href=#atomentryelement>AtomEntryElement</a>? <a href=#dom-atomfeedelement-getentryelementbyid title=dom-AtomFeedElement-getEntryElementById>getEntryElementById</a>(<span>DOMString</span> id);
  <a href=#atomentryelement>AtomEntryElement</a> <a href=#dom-atomfeedelement-addnewentry title=dom-AtomFeedElement-addNewEntry>addNewEntry</a>(<span>DOMString</span> id, [TreatNullAs=EmptyString] <span>DOMString</span> title, [TreatNullAs=EmptyString] <span>DOMString</span> lang);
};</code></pre>

<p>The <dfn id=dom-atomfeedelement-authorelements title=dom-AtomFeedElement-authorElements><code>authorElements</code></dfn>
attribute of the <a href=#atomfeedelement><code>AtomFeedElement</code></a> interface <em class=rfc2119>MUST</em> return the <code>author</code> <a href=#child-element-list>child
element list</a> for the <a href=#context-object>context object</a>.

</p><p>The <dfn id=dom-atomfeedelement-categoryelements title=dom-AtomFeedElement-categoryElements><code>categoryElements</code></dfn>
attribute of the <a href=#atomfeedelement><code>AtomFeedElement</code></a> interface <em class=rfc2119>MUST</em> return the <code>category</code> <a href=#child-element-list>child
element list</a> for the <a href=#context-object>context object</a>.

</p><p>The <dfn id=dom-atomfeedelement-contributorelements title=dom-AtomFeedElement-contributorElements><code>contributorElements</code></dfn>
attribute of the <a href=#atomfeedelement><code>AtomFeedElement</code></a> interface <em class=rfc2119>MUST</em> return the <code>contributor</code>
<a href=#child-element-list>child element list</a> for the <a href=#context-object>context object</a>.

</p><p>The <dfn id=dom-atomfeedelement-generatorelement title=dom-AtomFeedElement-generatorElement><code>generatorElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>generator</code> child element</a>.

</p><p>The <dfn id=dom-atomfeedelement-icon title=dom-AtomFeedElement-icon><code>icon</code></dfn>
attribute <em class=rfc2119>MUST</em> <a href=#reflect-the-url-value-of-a-child-element title="reflect the URL
value of a child element">reflect the URL value of the
<code>icon</code> child element</a>.

</p><p>The <dfn id=dom-atomfeedelement-atomid title=dom-AtomFeedElement-atomId><code>atomId</code></dfn>
attribute <em class=rfc2119>MUST</em> <a href=#reflect-the-string-value-of-a-child-element title="reflect the string
value of a child element">reflect the string value of the
<code>id</code> child element</a>.

</p><p>The <dfn id=dom-atomfeedelement-linkelements title=dom-AtomFeedElement-linkElements><code>linkElements</code></dfn>
attribute of the <a href=#atomfeedelement><code>AtomFeedElement</code></a> interface <em class=rfc2119>MUST</em> return the <code>link</code> <a href=#child-element-list>child
element list</a> for the <a href=#context-object>context object</a>.

</p><p>The <dfn id=dom-atomfeedelement-logo title=dom-AtomFeedElement-logo><code>logo</code></dfn>
attribute <em class=rfc2119>MUST</em> <a href=#reflect-the-url-value-of-a-child-element title="reflect the URL
value of a child element">reflect the URL value of the
<code>logo</code> child element</a>.

</p><p>The <dfn id=dom-atomfeedelement-rightselement title=dom-AtomFeedElement-rightsElement><code>rightsElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>subtitle</code> child element</a>.

</p><p>The <dfn id=dom-atomfeedelement-subtitleelement title=dom-AtomFeedElement-subtitleElement><code>subtitleElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>subtitle</code> child element</a>.

</p><p>The <dfn id=dom-atomfeedelement-titleelement title=dom-AtomFeedElement-titleElement><code>titleElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>title</code> child element</a>.

</p><p>The <dfn id=dom-atomfeedelement-updatedelement title=dom-AtomFeedElement-updatedElement><code>updatedElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>updated</code> child element</a>.

</p><p>The <dfn id=dom-atomfeedelement-entryelements title=dom-AtomFeedElement-entryElements><code>entryElements</code></dfn>
attribute of the <a href=#atomfeedelement><code>AtomFeedElement</code></a> interface <em class=rfc2119>MUST</em> return the <code>entry</code> <a href=#child-element-list>child
element list</a> for the <a href=#context-object>context object</a>.

</p><p>The <dfn id=dom-atomfeedelement-getentryelementbyid title=dom-AtomFeedElement-getEntryElementById><code>getEntryElementById(<var title="">id</var>)</code></dfn> attribute <em class=rfc2119>MUST</em>
return the first <a href=#concept-element title=concept-element>element</a> in the
<a href=#dom-atomfeedelement-entryelements><code title=dom-AtomFeedElement-entryElements>entryElements</code></a>
<a href=#concept-collection title=concept-collection>collection</a> whose <a href=#dom-atomentryelement-atomid><code title=dom-AtomEntryElement-atomId>atomId</code></a> attribute value is
<var title="">id</var> and is not the empty string, if any, or
<code>null</code> otherwise.

</p><p>The <dfn id=dom-atomfeedelement-addnewentry title=dom-AtomFeedElement-addNewEntry><code>addNewEntry(<var title="">id</var>, <var title="">title</var>, <var title="">lang</var>)</code></dfn> method <em class=rfc2119>MUST</em> run
the following steps:

</p><ol class=algorithm>

<li>Let <var title="">entry</var> be a <code>entry</code> <a class=concept-element href=#element>element</a> in the <a href=#atom-namespace>Atom
namespace</a>.

</li><li><a href=#set-the-xml:lang-attribute>Set the <code>xml:lang</code> attribute</a> of <var title="">entry</var> to <var title="">lang</var>.

</li><li><a href=#concept-append-atom-element title=concept-append-atom-element>Append an Atom
<code>id</code> element</a> whose <var title="">text content</var> is
<var title="">id</var> to <var title="">entry</var>.

</li><li><a href=#concept-append-atom-element title=concept-append-atom-element>Append an Atom
<code>title</code> element</a> whose <var title="">text content</var>
is <var title="">title</var> to <var title="">entry</var>.

</li><li><a href=#concept-append-atom-element title=concept-append-atom-element>Append an Atom
<code>updated</code> element</a> whose <var title="">text
content</var> is <a href=#valid-normalized-forced-utc-global-date-and-time-string>valid normalized forced-UTC global date and
time string</a> of the current time to <var title="">entry</var>.

</li><li><a href=#concept-node-append title=concept-node-append>Append</a> <var title="">entry</var> to the <a href=#context-object>context object</a>.

</li><li>Return <var title="">entry</var>.

</li></ol>

</section>

<section>
<h3 id=the-atomentryelement-interface><span class=secno>5.6 </span>The <a href=#atomentryelement><code>AtomEntryElement</code></a> interface</h3>

<p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>entry</code> <a href=#concept-element title=concept-element>element</a>
in the <a href=#atom-namespace>Atom namespace</a> is <a href=#atomentryelement><code>AtomEntryElement</code></a>.

</p><pre class=idl><code>interface <dfn id=atomentryelement>AtomEntryElement</dfn> : <a href=#atomelement>AtomElement</a> {
  readonly attribute <a href=#htmlcollection>HTMLCollection</a> <a href=#dom-atomentryelement-authorelements title=dom-AtomEntryElement-authorElements>authorElements</a>;
  readonly attribute <a href=#htmlcollection>HTMLCollection</a> <a href=#dom-atomentryelement-entryauthorelements title=dom-AtomEntryElement-entryAuthorElements>entryAuthorElements</a>;
  readonly attribute <a href=#htmlcollection>HTMLCollection</a> <a href=#dom-atomentryelement-categoryelements title=dom-AtomEntryElement-categoryElements>categoryElements</a>;
  readonly attribute <a href=#atomcontentelement>AtomContentElement</a>? <a href=#dom-atomentryelement-contentelement title=dom-AtomEntryElement-contentElement>contentElement</a>;
  readonly attribute <a href=#htmlcollection>HTMLCollection</a> <a href=#dom-atomentryelement-contributorelements title=dom-AtomEntryElement-contributorElements>contributorElements</a>;
  attribute <span>DOMString</span> <a href=#dom-atomentryelement-atomid title=dom-AtomEntryElement-atomId>atomId</a>;
  readonly attribute <a href=#htmlcollection>HTMLCollection</a> <a href=#dom-atomentryelement-linkelements title=dom-AtomEntryElement-linkElements>linkElements</a>;
  readonly attribute <a href=#atompublishedelement>AtomPublishedElement</a>? <a href=#dom-atomentryelement-publishedelement title=dom-AtomEntryElement-publishedElement>publishedElement</a>;
  readonly attribute <a href=#atomrightselement>AtomRightsElement</a>? <a href=#dom-atomentryelement-rightselement title=dom-AtomEntryElement-rightsElement>rightsElement</a>;
  readonly attribute <a href=#atomrightselement>AtomRightsElement</a>? <a href=#dom-atomentryelement-entryrightselement title=dom-AtomEntryElement-entryRightsElement>entryRightsElement</a>;
  readonly attribute <a href=#atomsourceelement>AtomSourceElement</a>? <a href=#dom-atomentryelement-sourceelement title=dom-AtomEntryElement-sourceElement>sourceElement</a>;
  readonly attribute <a href=#atomsummaryelement>AtomSummaryElement</a>? <a href=#dom-atomentryelement-summaryelement title=dom-AtomEntryElement-summaryElement>summaryElement</a>;
  readonly attribute <a href=#atomtitleelement>AtomTitleElement</a>? <a href=#dom-atomentryelement-titleelement title=dom-AtomEntryElement-titleElement>titleElement</a>;
  readonly attribute <a href=#atomupdatedelement>AtomUpdatedElement</a>? <a href=#dom-atomentryelement-updatedelement title=dom-AtomEntryElement-updatedElement>updatedElement</a>;
  readonly attribute <a href=#htmlcollection>HTMLCollection</a> <a href=#dom-atomentryelement-threadinreplytoelements title=dom-AtomEntryElement-threadInReplyToElements>threadInReplyToElements</a>;
};</code></pre>

<p>The <dfn id=dom-atomentryelement-authorelements title=dom-AtomEntryElement-authorElements><code>authorElements</code></dfn>
attribute of the <a href=#atomentryelement><code>AtomEntryElement</code></a> interface <em class=rfc2119>MUST</em> return the <code>author</code> <a href=#child-element-list>child
element list</a> for the <a href=#context-object>context object</a>.

</p><p>The <dfn id=dom-atomentryelement-entryauthorelements title=dom-AtomEntryElement-entryAuthorElements><code>entryAuthorElements</code></dfn>
attribute of the <a href=#atomentryelement><code>AtomEntryElement</code></a> interface <em class=rfc2119>MUST</em> run the following steps:

  </p><ol class=algorithm>

  <li>If the <a href=#context-object>context object</a> contains one or more
  <code>author</code> <a href=#concept-tree-child title=concept-tree-child>child</a>
  <a href=#concept-element title=concept-element>element</a> in the <a href=#atom-namespace>Atom
  namespace</a>, return the <a href=#dom-atomentryelement-authorelements><code title=dom-AtomEntryElement-authorElements>authorElements</code></a>
  <a href=#concept-collection title=concept-collection>collection</a> of the
  <a href=#context-object>context object</a> and abort these steps.

  </li><li>If the <a href=#context-object>context object</a> contains a
  <code>source</code> <a href=#concept-tree-child title=concept-tree-child>child</a>
  <a href=#concept-element title=concept-element>element</a> in the <a href=#atom-namespace>Atom
  namespace</a>, return the <a href=#dom-atomsourceelement-authorelements><code title=dom-AtomSourceElement-authorElements>authorElements</code></a>
  <a href=#concept-collection title=concept-collection>collection</a> of the first such
  <a href=#concept-element title=concept-element>element</a> and abort these steps
  unless that <a href=#concept-collection title=concept-collection>collection</a> is
  empty.

  </li><li>If the <a href=#concept-tree-parent title=concept-tree-parent>parent</a> of the
  <a href=#context-object>context object</a> is the <code>feed</code> <a href=#concept-element title=concept-element>element</a> in the <a href=#atom-namespace>Atom
  namespace</a>, return the <a href=#dom-atomfeedelement-authorelements><code title=dom-AtomFeedElement-authorElements>authorElements</code></a> <a href=#concept-collection title=concept-collection>collection</a> of the <a href=#concept-element title=concept-element>element</a> and abort these steps.

  </li><li>Return the <a href=#dom-atomentryelement-authorelements><code title=dom-AtomEntryElement-authorElements>authorElements</code></a>
  <a href=#concept-collection title=concept-collection>collection</a> of the
  <a href=#context-object>context object</a>.

  </li></ol>

<p>The <dfn id=dom-atomentryelement-categoryelements title=dom-AtomEntryElement-categoryElements><code>categoryElements</code></dfn>
attribute of the <a href=#atomentryelement><code>AtomEntryElement</code></a> interface <em class=rfc2119>MUST</em> return the <code>category</code> <a href=#child-element-list>child
element list</a> for the <a href=#context-object>context object</a>.

</p><p>The <dfn id=dom-atomentryelement-contentelement title=dom-AtomEntryElement-contentElement><code>contentElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>content</code> child element</a>.

</p><p>The <dfn id=dom-atomentryelement-contributorelements title=dom-AtomEntryElement-contributorElements><code>contributorElements</code></dfn>
attribute of the <a href=#atomentryelement><code>AtomEntryElement</code></a> interface <em class=rfc2119>MUST</em> return the <code>contributor</code>
<a href=#child-element-list>child element list</a> for the <a href=#context-object>context object</a>.

</p><p>The <dfn id=dom-atomentryelement-atomid title=dom-AtomEntryElement-atomId><code>atomId</code></dfn> attribute
<em class=rfc2119>MUST</em> <a href=#reflect-the-string-value-of-a-child-element title="reflect the string value of a
child element">reflect the string value of the <code>id</code> child
element</a>.

</p><p>The <dfn id=dom-atomentryelement-linkelements title=dom-AtomEntryElement-linkElements><code>linkElements</code></dfn>
attribute of the <a href=#atomentryelement><code>AtomEntryElement</code></a> interface <em class=rfc2119>MUST</em> return the <code>link</code> <a href=#child-element-list>child
element list</a> for the <a href=#context-object>context object</a>.

</p><p>The <dfn id=dom-atomentryelement-publishedelement title=dom-AtomEntryElement-publishedElement><code>publishedElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>published</code> child element</a>.

</p><p>The <dfn id=dom-atomentryelement-rightselement title=dom-AtomEntryElement-rightsElement><code>rightsElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>rights</code> child element</a>.

</p><p>The <dfn id=dom-atomentryelement-entryrightselement title=dom-AtomEntryElement-entryRightsElement><code>entryRightsElement</code></dfn>
attribute of the <a href=#atomentryelement><code>AtomEntryElement</code></a> interface <em class=rfc2119>MUST</em> run the following steps:

  </p><ol class=algorithm>

  <li>If the <a href=#context-object>context object</a> contains one or more
  <code>rights</code> <a href=#concept-tree-child title=concept-tree-child>child</a>
  <a href=#concept-element title=concept-element>element</a> in the <a href=#atom-namespace>Atom
  namespace</a>, return the first such <a href=#concept-element title=concept-element>element</a> and abort these steps.

  </li><li>If the <a href=#concept-tree-parent title=concept-tree-parent>parent</a> of the
  <a href=#context-object>context object</a> is a <code>feed</code> <a href=#concept-element title=concept-element>element</a> in the <a href=#atom-namespace>Atom
  namespace</a>, return the <code title=dom-AtomFeedEntryElement-rightsElement>rightsElement</code>
  attribute value of that <a href=#concept-element title=concept-element>element</a>
  and abort these steps unless it is <code>null</code>.

  </li><li>Return the <a href=#dom-atomentryelement-rightselement><code title=dom-AtomEntryElement-rightsElement>rightsElement</code></a>
  attribute value of the <a href=#context-object>context object</a>.

  </li></ol>

<p>The <dfn id=dom-atomentryelement-sourceelement title=dom-AtomEntryElement-sourceElement><code>sourceElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>source</code> child element</a>.

</p><p>The <dfn id=dom-atomentryelement-summaryelement title=dom-AtomEntryElement-summaryElement><code>summaryElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>summary</code> child element</a>.

</p><p>The <dfn id=dom-atomentryelement-titleelement title=dom-AtomEntryElement-titleElement><code>titleElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>title</code> child element</a>.

</p><p>The <dfn id=dom-atomentryelement-updatedelement title=dom-AtomEntryElement-updatedElement><code>updatedElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>updated</code> child element</a>.

</p><p>The <dfn id=dom-atomentryelement-threadinreplytoelements title=dom-AtomEntryElement-threadInReplyToElements><code>threadInReplyToElements</code></dfn>
attribute of the <a href=#atomentryelement><code>AtomEntryElement</code></a> interface <em class=rfc2119>MUST</em> return the <code>in-reply-to</code>
<a href=#child-element-list>child element list</a> for the <a href=#context-object>context object</a> in
the <a href=#atom-threading-namespace>Atom Threading namespace</a>.

</p></section>

<section>
<h3 id=the-atomsourceelement-interface><span class=secno>5.7 </span>The <a href=#atomsourceelement><code>AtomSourceElement</code></a> interface</h3>

<p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>source</code> <a href=#concept-element title=concept-element>element</a>
in the <a href=#atom-namespace>Atom namespace</a> is <a href=#atomsourceelement><code>AtomSourceElement</code></a>.

</p><pre class=idl><code>interface <dfn id=atomsourceelement>AtomSourceElement</dfn> : <a href=#atomelement>AtomElement</a> {
  readonly attribute <a href=#htmlcollection>HTMLCollection</a> <a href=#dom-atomsourceelement-authorelements title=dom-AtomSourceElement-authorElements>authorElements</a>;
  readonly attribute <a href=#htmlcollection>HTMLCollection</a> <a href=#dom-atomsourceelement-categoryelements title=dom-AtomSourceElement-categoryElements>categoryElements</a>;
  readonly attribute <a href=#htmlcollection>HTMLCollection</a> <a href=#dom-atomsourceelement-contributorelements title=dom-AtomSourceElement-contributorElements>contributorElements</a>;
  readonly attribute <a href=#atomgeneratorelement>AtomGeneratorElement</a>? <a href=#dom-atomsourceelement-generatorelement title=dom-AtomSourceElement-generatorElement>generatorElement</a>;
  attribute <span>DOMString</span> <a href=#dom-atomsourceelement-icon title=dom-AtomSourceElement-icon>icon</a>;
  attribute <span>DOMString</span> <a href=#dom-atomsourceelement-atomid title=dom-AtomSourceElement-atomId>atomId</a>;
  readonly attribute <a href=#htmlcollection>HTMLCollection</a> <a href=#dom-atomsourceelement-linkelements title=dom-AtomSourceElement-linkElements>linkElements</a>;
  attribute <span>DOMString</span> <a href=#dom-atomsourceelement-logo title=dom-AtomSourceElement-logo>logo</a>;
  readonly attribute <a href=#atomrightselement>AtomRightsElement</a>? <a href=#dom-atomsourceelement-rightselement title=dom-AtomSourceElement-rightsElement>rightsElement</a>;
  readonly attribute <a href=#atomsubtitleelement>AtomSubtitleElement</a>? <a href=#dom-atomsourceelement-subtitleelement title=dom-AtomSourceElement-subtitleElement>subtitleElement</a>;
  readonly attribute <a href=#atomtitleelement>AtomTitleElement</a>? <a href=#dom-atomsourceelement-titleelement title=dom-AtomSourceElement-titleElement>titleElement</a>;
  readonly attribute <a href=#atomupdatedelement>AtomUpdatedElement</a>? <a href=#dom-atomsourceelement-updatedelement title=dom-AtomSourceElement-updatedElement>updatedElement</a>;
};</code></pre>

<p>The <dfn id=dom-atomsourceelement-authorelements title=dom-AtomSourceElement-authorElements><code>authorElements</code></dfn>
attribute of the <a href=#atomsourceelement><code>AtomSourceElement</code></a> interface <em class=rfc2119>MUST</em> return the <code>author</code> <a href=#child-element-list>child
element list</a> for the <a href=#context-object>context object</a>.

</p><p>The <dfn id=dom-atomsourceelement-categoryelements title=dom-AtomSourceElement-categoryElements><code>categoryElements</code></dfn>
attribute of the <a href=#atomsourceelement><code>AtomSourceElement</code></a> interface <em class=rfc2119>MUST</em> return the <code>category</code> <a href=#child-element-list>child
element list</a> for the <a href=#context-object>context object</a>.

</p><p>The <dfn id=dom-atomsourceelement-contributorelements title=dom-AtomSourceElement-contributorElements><code>contributorElements</code></dfn>
attribute of the <a href=#atomsourceelement><code>AtomSourceElement</code></a> interface <em class=rfc2119>MUST</em> return the <code>contributor</code>
<a href=#child-element-list>child element list</a> for the <a href=#context-object>context object</a>.

</p><p>The <dfn id=dom-atomsourceelement-generatorelement title=dom-AtomSourceElement-generatorElement><code>generatorElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>generator</code> child element</a>.

</p><p>The <dfn id=dom-atomsourceelement-icon title=dom-AtomSourceElement-icon><code>icon</code></dfn>
attribute <em class=rfc2119>MUST</em> <a href=#reflect-the-url-value-of-a-child-element title="reflect the URL
value of a child element">reflect the URL value of the
<code>icon</code> child element</a>.

</p><p>The <dfn id=dom-atomsourceelement-atomid title=dom-AtomSourceElement-atomId><code>atomId</code></dfn> attribute
<em class=rfc2119>MUST</em> <a href=#reflect-the-string-value-of-a-child-element title="reflect the string value of a
child element">reflect the string value of the <code>id</code> child
element</a>.

</p><p>The <dfn id=dom-atomsourceelement-linkelements title=dom-AtomSourceElement-linkElements><code>linkElements</code></dfn>
attribute of the <a href=#atomsourceelement><code>AtomSourceElement</code></a> interface <em class=rfc2119>MUST</em> return the <code>link</code> <a href=#child-element-list>child
element list</a> for the <a href=#context-object>context object</a>.

</p><p>The <dfn id=dom-atomsourceelement-logo title=dom-AtomSourceElement-logo><code>logo</code></dfn>
attribute <em class=rfc2119>MUST</em> <a href=#reflect-the-url-value-of-a-child-element title="reflect the URL
value of a child element">reflect the URL value of the
<code>logo</code> child element</a>.

</p><p>The <dfn id=dom-atomsourceelement-rightselement title=dom-AtomSourceElement-rightsElement><code>rightsElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>rights</code> child element</a>.

</p><p>The <dfn id=dom-atomsourceelement-subtitleelement title=dom-AtomSourceElement-subtitleElement><code>subtitleElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>subtitle</code> child element</a>.

</p><p>The <dfn id=dom-atomsourceelement-titleelement title=dom-AtomSourceElement-titleElement><code>titleElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>title</code> child element</a>.

</p><p>The <dfn id=dom-atomsourceelement-updatedelement title=dom-AtomSourceElement-updatedElement><code>updatedElement</code></dfn>
attribute <em class=rfc2119>MUST</em> return <a href=#obtain-the-child-element title="obtain the
child element">the <code>updated</code> child element</a>.

</p></section>

<section>
<h3 id=the-atomcontentelement-interface><span class=secno>5.8 </span>The <a href=#atomcontentelement><code>AtomContentElement</code></a> interface</h3>

<p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>content</code> <a href=#concept-element title=concept-element>element</a> in the <a href=#atom-namespace>Atom
namespace</a> is <a href=#atomcontentelement><code>AtomContentElement</code></a>.

</p><pre class=idl><code>interface <dfn id=atomcontentelement>AtomContentElement</dfn> : <a href=#atomelement>AtomElement</a> {
  attribute <span>DOMString</span> <a href=#dom-atomcontentelement-type title=dom-AtomContentElement-type>type</a>;
  attribute <span>DOMString</span> <a href=#dom-atomcontentelement-src title=dom-AtomContentElement-src>src</a>;
  readonly attribute <a href=#element>Element</a>? <a href=#dom-atomcontentelement-container title=dom-AtomContentElement-container>container</a>;
};</code></pre>

<p>The <dfn id=dom-atomcontentelement-type title=dom-AtomContentElement-type><code>type</code></dfn>
attribute of the <a href=#atomcontentelement><code>AtomContentElement</code></a> interface <em class=rfc2119>MUST</em> <a href=#reflect>reflect</a> the <a href=#content-attribute>content
attribute</a> of the same name.  The default value for the
attribute is <a href=#text><code>text</code></a> if the <a href=#context-object>context object</a> does
not have the <code>src</code> <a href=#concept-attribute title=concept-attribute>content
attribute</a>, or no default value otherwise.

</p><p>The <dfn id=dom-atomcontentelement-src title=dom-AtomContentElement-src><code>src</code></dfn>
attribute of the <a href=#atomcontentelement><code>AtomContentElement</code></a> interface <em class=rfc2119>MUST</em> <a href=#reflect>reflect</a> the <a href=#content-attribute>content
attribute</a> of the same name, which for the purposees of
reflection is defined as containing a <a href=#url>URL</a>.

</p><p>The <dfn id=dom-atomcontentelement-container title=dom-AtomContentElement-container><code>container</code></dfn>
attribute of the <a href=#atomcontentelement><code>AtomContentElement</code></a> interface <em class=rfc2119>MUST</em> run the following steps:

</p><ol class=algorithm>

<li>If the <a href=#concept-attribute-value title=concept-attribute-value>value</a> of the
<code>type</code> <a href=#concept-attribute title=concept-attribute>content
attribute</a> of the <a href=#context-object>context object</a>, if any, is
<code>xhtml</code>, return <a href=#obtain-the-child-element title="obtain the child element">the
<code>div</code> child element</a> of <var title="">element</var>, in
the <a href=#html-namespace>HTML namespace</a>.

</li><li>Otherwise, if the <code>src</code> <a href=#concept-attribute title=concept-attribute>content attribute</a> presents, return
<code>null</code>.

</li><li>Otherwise, return the <a href=#context-object>context object</a>.

</li></ol>

<div class=ed>

<p>XXX Accessor for Base64ed content...

</p></div>

</section>

<section>
<h3 id=the-atomcategoryelement-interface><span class=secno>5.9 </span>The <a href=#atomcategoryelement><code>AtomCategoryElement</code></a> interface</h3>

<p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>category</code> <a href=#concept-element title=concept-element>element</a> in the <a href=#atom-namespace>Atom
namespace</a> is <a href=#atomcategoryelement><code>AtomCategoryElement</code></a>.

</p><pre class=idl><code>interface <dfn id=atomcategoryelement>AtomCategoryElement</dfn> : <a href=#atomelement>AtomElement</a> {
  attribute <span>DOMString</span> <a href=#dom-atomcategoryelement-term title=dom-AtomCategoryElement-term>term</a>;
  attribute <span>DOMString</span> <a href=#dom-atomcategoryelement-scheme title=dom-AtomCategoryElement-scheme>scheme</a>;
  attribute <span>DOMString</span> <a href=#dom-atomcategoryelement-label title=dom-AtomCategoryElement-label>label</a>;
};</code></pre>

<p>The <dfn id=dom-atomcategoryelement-term title=dom-AtomCategoryElement-term><code>term</code></dfn>
and <dfn id=dom-atomcategoryelement-label title=dom-AtomCategoryElement-label><code>label</code></dfn>
attributes of the <a href=#atomcategoryelement><code>AtomCategoryElement</code></a> interface <em class=rfc2119>MUST</em> <a href=#reflect>reflect</a> the <a href=#content-attribute>content
attribute</a> of the same name.

</p><p>The <dfn id=dom-atomcategoryelement-scheme title=dom-AtomCategoryElement-scheme><code>scheme</code></dfn>
attribute of the <a href=#atomcategoryelement><code>AtomCategoryElement</code></a> interface <em class=rfc2119>MUST</em> <a href=#reflect>reflect</a> the <a href=#content-attribute>content
attribute</a> of the same name, which for the purposees of
reflection is defined as containing a <a href=#url>URL</a>.

</p></section>

<section>
<h3 id=the-atomgeneratorelement-interface><span class=secno>5.10 </span>The <a href=#atomgeneratorelement><code>AtomGeneratorElement</code></a> interface</h3>

<p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>generator</code> <a href=#concept-element title=concept-element>element</a> in the <a href=#atom-namespace>Atom
namespace</a> is <a href=#atomgeneratorelement><code>AtomGeneratorElement</code></a>.

</p><pre class=idl><code>interface <dfn id=atomgeneratorelement>AtomGeneratorElement</dfn> : <a href=#atomelement>AtomElement</a> {
  attribute <span>DOMString</span> <a href=#dom-atomgeneratorelement-uri title=dom-AtomGeneratorElement-uri>uri</a>;
  attribute <span>DOMString</span> <a href=#dom-atomgeneratorelement-version title=dom-AtomGeneratorElement-version>version</a>;
};</code></pre>

<p>The <dfn id=dom-atomgeneratorelement-uri title=dom-AtomGeneratorElement-uri><code>uri</code></dfn>
attribute of the <a href=#atomgeneratorelement><code>AtomGeneratorElement</code></a> interface <em class=rfc2119>MUST</em> <a href=#reflect>reflect</a> the <a href=#content-attribute>content
attribute</a> of the same name, which for the purposees of
reflection is defined as containing a <a href=#url>URL</a>.

</p><p>The <dfn id=dom-atomgeneratorelement-version title=dom-AtomGeneratorElement-version><code>version</code></dfn>
attribute of the <a href=#atomgeneratorelement><code>AtomGeneratorElement</code></a> interface <em class=rfc2119>MUST</em> <a href=#reflect>reflect</a> the <a href=#content-attribute>content
attribute</a> of the same name.

</p></section>

<section>
<h3 id=the-atomlinkelement-interface><span class=secno>5.11 </span>The <a href=#atomlinkelement><code>AtomLinkElement</code></a> interface</h3>

<p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>link</code> <a href=#concept-element title=concept-element>element</a>
in the <a href=#atom-namespace>Atom namespace</a> is <a href=#atomlinkelement><code>AtomLinkElement</code></a>.

</p><pre class=idl><code>interface <dfn id=atomlinkelement>AtomLinkElement</dfn> : <a href=#atomelement>AtomElement</a> {
  attribute <span>DOMString</span> <a href=#dom-atomlinkelement-href title=dom-AtomLinkElement-href>href</a>;
  attribute <span>DOMString</span> <a href=#dom-atomlinkelement-hreflang title=dom-AtomLinkElement-hreflang>hreflang</a>;
  attribute <span>DOMString</span> <a href=#dom-atomlinkelement-length title=dom-AtomLinkElement-length>length</a>;
  attribute <span>DOMString</span> <a href=#dom-atomlinkelement-rel title=dom-AtomLinkElement-rel>rel</a>;
  attribute <span>DOMString</span> <a href=#dom-atomlinkelement-title title=dom-AtomLinkElement-title>title</a>;
  attribute <span>DOMString</span> <a href=#dom-atomlinkelement-type title=dom-AtomLinkElement-type>type</a>;
  attribute <span>unsigned long</span> <a href=#dom-atomlinkelement-threadcount title=dom-AtomLinkElement-threadCount>threadCount</a>;
  attribute <span>DOMTimeStamp</span> <a href=#dom-atomlinkelement-threadupdated title=dom-AtomLinkElement-threadUpdated>threadUpdated</a>;
};</code></pre>

<p>The <dfn id=dom-atomlinkelement-href title=dom-AtomLinkElement-href><code>href</code></dfn>
attribute of the <a href=#atomlinkelement><code>AtomLinkElement</code></a> interface <em class=rfc2119>MUST</em> <a href=#reflect>reflect</a> the <a href=#content-attribute>content
attribute</a> of the same name, which for the purposees of
reflection is defined as containing a <a href=#url>URL</a>.

</p><p>On getting, the <dfn id=dom-atomlinkelement-rel title=dom-AtomLinkElement-rel><code>rel</code></dfn> attribute <em class=rfc2119>MUST</em> run the following steps:

  </p><ol class=algorithm>

  <li>If the <a href=#context-object>context object</a> does not has the
  <code>rel</code> <a href=#concept-attribute title=concept-attribute>content
  attribute</a>, return the empty string and abort these steps.

  </li><li>Let <var title="">value</var> be the <code>rel</code> <a href=#concept-attribute title=concept-attribute>attribute</a> <a href=#concept-attribute-value title=concept-attribute-value>value</a> of the <a href=#context-object>context
  object</a>.

  </li><li>If <var title="">value</var> contains the <code>U+003A</code> <code class=charname>COLON</code> character (<code>:</code>), return <var title="">value</var> and abort these steps.

  </li><li>Return the string
  <code>http://www.iana.org/assignments/relation/</code> followed by
  <var title="">value</var>.

  </li></ol>

<p>On setting, the <a href=#dom-atomlinkelement-rel><code title=dom-AtomLinkElement-rel>rel</code></a>
attribute <em class=rfc2119>MUST</em> run the following steps:

  </p><ol class=algorithm>

  <li>Let <var title="">value</var> be the given value.

  </li><li>If <var title="">value</var> is
  <code>http://www.iana.org/assignments/relation/</code> followed by
  sequence of one or more characters other than <code>U+003A</code>
  <code class=charname>COLON</code> character (<code>:</code>),
  <code>U+0023</code> <code class=charname>NUMBER SIGN</code>
  character (<code>#</code>), <code>U+002F</code> <code class=charname>SOLIDUS</code> character (<code>/</code>), and
  <code>U+003F</code> <code class=charname>QUESTION MARK</code>
  character (<code>?</code>), remove the
  <code>http://www.iana.org/assignments/relation/</code> prefix from
  <var title="">value</var>.

  </li><li><a href=#concept-element-attributes-set title=concept-element-attributes-set>Set the
  <code>rel</code> attribute</a> of the <a href=#context-object>context object</a>
  to <var title="">value</var>.

  </li></ol>

<p>The <dfn id=dom-atomlinkelement-type title=dom-AtomLinkElement-type><code>type</code></dfn>
attribute of the <a href=#atomlinkelement><code>AtomLinkElement</code></a> interface <em class=rfc2119>MUST</em> <a href=#reflect>reflect</a> the <a href=#content-attribute>content
attribute</a> of the same name.  The default value for the
<code>type</code> attribute is <code>application/atom+xml</code> if
the <a href=#dom-atomlinkelement-rel><code title=dom-AtomLinkElement-rel>rel</code></a> attribute value of
the <a href=#context-object>context object</a> is
<code>http://www.iana.org/assignments/relation/replies</code>, or no
default value otherwise.

</p><p>The <dfn id=dom-atomlinkelement-hreflang title=dom-AtomLinkElement-hreflang><code>hreflang</code></dfn>, <dfn id=dom-atomlinkelement-title title=dom-AtomLinkElement-title><code>title</code></dfn>, and <dfn id=dom-atomlinkelement-length title=dom-AtomLinkElement-length><code>length</code></dfn> attributes
of the <a href=#atomlinkelement><code>AtomLinkElement</code></a> interface <em class=rfc2119>MUST</em> <a href=#reflect>reflect</a> the <a href=#content-attribute>content
attribute</a> of the same name.

</p><p>The <dfn id=dom-atomlinkelement-threadcount title=dom-AtomLinkElement-threadCount><code>threadCount</code></dfn>
attributes of the <a href=#atomlinkelement><code>AtomLinkElement</code></a> interface <em class=rfc2119>MUST</em> <a href=#reflect>reflect</a> the <code>count</code>
attribute in the <a href=#atom-threading-namespace>Atom Threading namespace</a>.  When a new
attribute is set by the <a href=#concept-attribute title=concept-attribute>attribute</a>, the namespace prefix <em class=rfc2119>MUST</em> be <code>thr</code>.

</p><p>On getting, the <dfn id=dom-atomlinkelement-threadupdated title=dom-AtomLinkElement-threadUpdated><code>threadUpdated</code></dfn>
attribute of the <a href=#atomlinkelement><code>AtomLinkElement</code></a> interface <em class=rfc2119>MUST</em> <a href=#parse-a-global-date-and-time-string title="parse a global date and time
string">parse</a> the <a href=#concept-attribute-value title=concept-attribute-value>value</a> of the <code>updated</code>
<a href=#concept-attribute title=concept-attribute>attribute</a> in the <a href=#atom-threading-namespace>Atom
Threading namespace</a>.  If the <a href=#concept-attribute title=concept-attribute>attribute</a> is not present, or the
parsing fails, it <em class=rfc2119>MUST</em> return zero instead.

</p><p>On setting, the <a href=#dom-atomlinkelement-threadupdated><code title=dom-AtomLinkElement-threadUpdated>threadUpdated</code></a> attribute
of the <a href=#atomlinkelement><code>AtomLinkElement</code></a> interface <em class=rfc2119>MUST</em> <a href=#concept-element-attributes-set title=concept-element-attributes-set>set
the <code>updated</code> attribute</a> in the <a href=#atom-threading-namespace>Atom Threading
namespace</a> to the <a href=#valid-normalized-forced-utc-global-date-and-time-string>valid normalized forced-UTC global date
and time string</a> representation of the given value, with prefix
<code>thr</code>.

</p></section>

</section>

<section>
<h2 id=interfaces-for-atom-threading-extensions><span class=secno>6 </span>Interfaces for Atom Threading extensions</h2>

<section>
<h3 id=the-atomthreadinreplytoelement-interface><span class=secno>6.1 </span>The <a href=#atomthreadinreplytoelement><code>AtomThreadInReplyToElement</code></a> interface</h3>

<p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>in-reply-to</code> <a href=#concept-element title=concept-element>element</a> in the <a href=#atom-threading-namespace>Atom Threading
namespace</a> is <a href=#atomthreadinreplytoelement><code>AtomThreadInReplyToElement</code></a>.

</p><pre class=idl><code>interface <dfn id=atomthreadinreplytoelement>AtomThreadInReplyToElement</dfn> : <a href=#atomelement>AtomElement</a> {
  attribute <span>DOMString</span> <a href=#dom-atomthreadinreplytoelement-href title=dom-AtomThreadInReplyToElement-href>href</a>;
  attribute <span>DOMString</span> <a href=#dom-atomthreadinreplytoelement-ref title=dom-AtomThreadInReplyToElement-ref>ref</a>;
  attribute <span>DOMString</span> <a href=#dom-atomthreadinreplytoelement-source title=dom-AtomThreadInReplyToElement-source>source</a>;
  attribute <span>DOMString</span> <a href=#dom-atomthreadinreplytoelement-type title=dom-AtomThreadInReplyToElement-type>type</a>;
};</code></pre>

<p>The <dfn id=dom-atomthreadinreplytoelement-href title=dom-AtomThreadInReplyToElement-href><code>href</code></dfn>,
<dfn id=dom-atomthreadinreplytoelement-ref title=dom-AtomThreadInReplyToElement-ref><code>ref</code></dfn>,
and <dfn id=dom-atomthreadinreplytoelement-source title=dom-AtomThreadInReplyToElement-source><code>source</code></dfn>
attributes of the <a href=#atomthreadinreplytoelement><code>AtomThreadInReplyToElement</code></a> interface
<em class=rfc2119>MUST</em> <a href=#reflect>reflect</a> the <a href=#content-attribute>content
attribute</a> of the same name, which for the purposees of
reflection are defined as containing a <a href=#url>URL</a>.

</p><p>The <dfn id=dom-atomthreadinreplytoelement-type title=dom-AtomThreadInReplyToElement-type><code>type</code></dfn>
attribute of the <a href=#atomthreadinreplytoelement><code>AtomThreadInReplyToElement</code></a> interface <em class=rfc2119>MUST</em> <a href=#reflect>reflect</a> the <a href=#content-attribute>content
attribute</a> of the same name.

</p></section>

<section>
<h3 id=the-atomthreadtotalelement-interface><span class=secno>6.2 </span>The <a href=#atomthreadtotalelement><code>AtomThreadTotalElement</code></a> interface</h3>

<p>The <a href=#concept-element-interface title=concept-element-interface>element interface</a>
for the <code>total</code> <a href=#concept-element title=concept-element>element</a>
in the <a href=#atom-threading-namespace>Atom Threading namespace</a> is
<a href=#atomthreadtotalelement><code>AtomThreadTotalElement</code></a>.

</p><pre class=idl><code>interface <dfn id=atomthreadtotalelement>AtomThreadTotalElement</dfn> : <a href=#atomelement>AtomElement</a> {
  attribute <span>unsigned long</span> <a href=#dom-atomthreadtotalelement-value title=dom-AtomThreadTotalElement-value>value</a>;
};</code></pre>

<p>The <dfn id=dom-atomthreadtotalelement-value title=dom-AtomThreadTotalElement-value><code>value</code></dfn>
attribute of the <a href=#atomthreadtotalelement><code>AtomThreadTotalElement</code></a> interface <em class=rfc2119>MUST</em> <a href=#reflect>reflect</a> a fictional <a href=#content-attribute>content
attribute</a> corresponding to the <a href=#dom-node-textcontent><code title=dom-Node-textContent>textContent</code></a> <a href=#idl-attribute>IDL
attribute</a>.

</p><p class=ed>XXX Define exact processing model instead of using
"fictional" attribute.

</p></section>

</section>

<section>
<h2 id=changes-from-earlier-versions-of-atom-dom><span class=secno>7 </span>Changes from earlier versions of Atom DOM</h2>

<p>Earlier versions of this specification defined following feature
strings, which are now considered obsolete:

</p><ul>

<li>Feature
<dfn id=http://suika.fam.cx/www/2006/feature/atom><code>http://suika.fam.cx/www/2006/feature/Atom</code></dfn>
version <code>1.0</code>, identifying the core part of the Atom DOM.

</li><li>Feature
<dfn id=http://suika.fam.cx/www/2006/feature/atomthreading><code>http://suika.fam.cx/www/2006/feature/AtomThreading</code></dfn>
version <code>1.0</code>, identifying the Atom Threading Extension
support of the Atom DOM.

</li></ul>

<p>The <a href=#AtomImplementation><dfn id=atomimplementation><code>AtomImplementation</code></dfn></a>
interface is now defined as a partial interface for
<a href=#domimplementation><code>DOMImplementation</code></a>.

</p><p>The <a href=#AtomDocument><dfn id=atomdocument><code>AtomDocument</code></dfn></a>
interface is now defined as a partial interface for
<a href=#document><code>Document</code></a>.

</p><p>The <dfn id=atomentryelementthread><code>AtomEntryElementThread</code></dfn> and
<dfn id=atomlinkelementthread><code>AtomLinkElementThread</code></dfn> interfaces are merged
with <a href=#atomentryelement><code>AtomEntryElement</code></a> and <a href=#atomlinkelement><code>AtomLinkElement</code></a>
interfaces, respectively.

</p><p>Earlier versions of this specification specified different handling
of <code>null</code> values for reflecting attributes.  They are
removed for consistency with DOM and HTML.

</p><p>Earlier versions of this specification specfied list of elements
returned by various attributes as <a href=#concept-collection-static title=concept-collection-static>static</a>, which is now changed to
<a href=#concept-collection-live title=concept-collection-live>live</a> for consistency with
HTML DOM.

</p><p>The <code>id</code> attribute of <a href=#atomfeedelement><code>AtomFeedElement</code></a>,
<a href=#atomentryelement><code>AtomEntryElement</code></a>, and <a href=#atomsourceelement><code>AtomSourceElement</code></a>
interfaces is renamed as <code title="">atomId</code> to avoid
confliction with <a href=#element><code>Element</code></a>'s <a href=#dom-element-id><code title=dom-Element-id>id</code></a> attribute defined by DOM.

</p></section>

<section class="reference normative">
<h2 class=no-num id=references>References</h2>

<dl>

<dt id=ref-ATOM>ATOM
</dt><dd><a href=http://tools.ietf.org/html/rfc4287><cite>The Atom Syndication Format</cite></a>, IETF, RFC 4287.

</dd><dt id=ref-ATOMTHREADING>ATOMTHREADING
</dt><dd><a href=http://tools.ietf.org/html/rfc4685><cite>Atom Threading Extensions</cite></a>, IETF, RFC 4685.

</dd><dt id=ref-DOM>DOM
</dt><dd><a href=http://dom.spec.whatwg.org/><cite>DOM Standard</cite></a>, WHATWG.

</dd><dt id=ref-HTML>HTML
</dt><dd><a href=http://www.whatwg.org/specs/web-apps/current-work/complete.html><cite>HTML Standard</cite></a>, WHATWG.

</dd><dt id=ref-MANAKAI>MANAKAI
</dt><dd><a href=http://suika.suikawiki.org/~wakaba/wiki/sw/n/manakai%20DOM%20Extensions><cite>manakai DOM Extensions</cite></a>, manakai project.

</dd><dt id=ref-RFC2119>RFC2119
</dt><dd><a href=http://tools.ietf.org/html/rfc2119><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>, IETF, RFC 2119, BCP 14.

</dd><dt id=ref-SVG>SVG
</dt><dd><a href=https://svgwg.org/svg2-draft/single-page.html><cite>Scalable Vector Graphics (SVG) 2</cite></a>, W3C SVG WG.

</dd><dt id=ref-URL>URL
</dt><dd><a href=http://url.spec.whatwg.org/><cite>URL Standard</cite></a>, WHATWG.

</dd><dt id=ref-WEBIDL>WEBIDL
</dt><dd><a href=http://dev.w3.org/2006/webapi/WebIDL/><cite>WebIDL</cite></a>, Cameron McCormack.

</dd></dl>

</section>
</body></html>